{"contractTypes":{"DebtAllocator":{"abi":[{"inputs":[{"internalType":"address","name":"_cairoVerifier","type":"address"},{"internalType":"bytes32","name":"_cairoProgramHash","type":"bytes32"}],"stateMutability":"payable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"newCairoProgramHash","type":"bytes32"}],"name":"NewCairoProgramHash","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"newCairoVerifier","type":"address"}],"name":"NewCairoVerifier","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256[]","name":"dataStrategies","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"calculation","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"condition","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"targetAllocations","type":"uint256[]"}],"name":"NewSnapshot","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newApy","type":"uint256"},{"indexed":false,"internalType":"uint256[]","name":"newTargetAllocation","type":"uint256[]"},{"indexed":false,"internalType":"address","name":"proposer","type":"address"},{"indexed":false,"internalType":"uint256","name":"proposerPerformance","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"NewSolution","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newStalePeriod","type":"uint256"}],"name":"NewStalePeriod","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newStaleSnapshotPeriod","type":"uint256"}],"name":"NewStaleSnapshotPeriod","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address[]","name":"Strategies","type":"address[]"},{"indexed":false,"internalType":"uint256[]","name":"StrategiesCallLen","type":"uint256[]"},{"indexed":false,"internalType":"address[]","name":"Contracts","type":"address[]"},{"indexed":false,"internalType":"bytes4[]","name":"Checkdata","type":"bytes4[]"},{"indexed":false,"internalType":"uint256[]","name":"Offset","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"CalculationsLen","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"Calculations","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"ConditionsLen","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"Conditions","type":"uint256[]"}],"name":"StrategyAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address[]","name":"Strategies","type":"address[]"},{"indexed":false,"internalType":"uint256[]","name":"StrategiesCallLen","type":"uint256[]"},{"indexed":false,"internalType":"address[]","name":"Contracts","type":"address[]"},{"indexed":false,"internalType":"bytes4[]","name":"Checkdata","type":"bytes4[]"},{"indexed":false,"internalType":"uint256[]","name":"Offset","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"CalculationsLen","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"Calculations","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"ConditionsLen","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"Conditions","type":"uint256[]"}],"name":"StrategyRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address[]","name":"Strategies","type":"address[]"},{"indexed":false,"internalType":"uint256[]","name":"StrategiesCallLen","type":"uint256[]"},{"indexed":false,"internalType":"address[]","name":"Contracts","type":"address[]"},{"indexed":false,"internalType":"bytes4[]","name":"Checkdata","type":"bytes4[]"},{"indexed":false,"internalType":"uint256[]","name":"Offset","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"CalculationsLen","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"Calculations","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"ConditionsLen","type":"uint256[]"},{"indexed":false,"internalType":"uint256[]","name":"Conditions","type":"uint256[]"}],"name":"StrategyUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256[]","name":"newTargetAllocation","type":"uint256[]"}],"name":"targetAllocationForced","type":"event"},{"inputs":[{"components":[{"internalType":"address[]","name":"addresses","type":"address[]"},{"internalType":"uint256[]","name":"callLen","type":"uint256[]"},{"internalType":"address[]","name":"contracts","type":"address[]"},{"internalType":"bytes[]","name":"checkdata","type":"bytes[]"},{"internalType":"uint256[]","name":"offset","type":"uint256[]"},{"internalType":"uint256[]","name":"calculationsLen","type":"uint256[]"},{"internalType":"uint256[]","name":"calculations","type":"uint256[]"},{"internalType":"uint256[]","name":"conditionsLen","type":"uint256[]"},{"internalType":"uint256[]","name":"conditions","type":"uint256[]"}],"internalType":"struct DebtAllocator.PackedStrategies","name":"_packedStrategies","type":"tuple"},{"internalType":"address","name":"_newStrategy","type":"address"},{"components":[{"internalType":"uint256","name":"callLen","type":"uint256"},{"internalType":"address[]","name":"contracts","type":"address[]"},{"internalType":"bytes[]","name":"checkdata","type":"bytes[]"},{"internalType":"uint256[]","name":"offset","type":"uint256[]"},{"internalType":"uint256","name":"calculationsLen","type":"uint256"},{"internalType":"uint256[]","name":"calculations","type":"uint256[]"},{"internalType":"uint256","name":"conditionsLen","type":"uint256"},{"internalType":"uint256[]","name":"conditions","type":"uint256[]"}],"internalType":"struct DebtAllocator.StrategyParam","name":"_newStrategyParam","type":"tuple"}],"name":"addStrategy","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"cairoProgramHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"cairoVerifier","outputs":[{"internalType":"contract ICairoVerifier","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"claimRewards","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"_newTargetAllocation","type":"uint256[]"}],"name":"forceTargetAllocation","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"contracts","type":"address[]"},{"internalType":"bytes[]","name":"checkdata","type":"bytes[]"},{"internalType":"uint256[]","name":"offset","type":"uint256[]"}],"name":"getStrategiesData","outputs":[{"internalType":"uint256[]","name":"dataStrategies","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"inputHash","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastUpdate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minimumApyIncreaseForNewSolution","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"programOutput","type":"uint256[]"}],"name":"parseProgramOutput","outputs":[{"internalType":"uint256","name":"_inputHash","type":"uint256"},{"internalType":"uint256[]","name":"_currentTargetAllocation","type":"uint256[]"},{"internalType":"uint256[]","name":"_newTargetAllocation","type":"uint256[]"},{"internalType":"uint256","name":"_currentSolution","type":"uint256"},{"internalType":"uint256","name":"_newSolution","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"proposer","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"proposerPerformance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address[]","name":"addresses","type":"address[]"},{"internalType":"uint256[]","name":"callLen","type":"uint256[]"},{"internalType":"address[]","name":"contracts","type":"address[]"},{"internalType":"bytes[]","name":"checkdata","type":"bytes[]"},{"internalType":"uint256[]","name":"offset","type":"uint256[]"},{"internalType":"uint256[]","name":"calculationsLen","type":"uint256[]"},{"internalType":"uint256[]","name":"calculations","type":"uint256[]"},{"internalType":"uint256[]","name":"conditionsLen","type":"uint256[]"},{"internalType":"uint256[]","name":"conditions","type":"uint256[]"}],"internalType":"struct DebtAllocator.PackedStrategies","name":"_packedStrategies","type":"tuple"},{"internalType":"uint256","name":"indexStrategyToRemove","type":"uint256"}],"name":"removeStrategy","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"rewardsPayer","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rewardsPerSec","outputs":[{"internalType":"uint216","name":"","type":"uint216"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rewardsStreamer","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address[]","name":"addresses","type":"address[]"},{"internalType":"uint256[]","name":"callLen","type":"uint256[]"},{"internalType":"address[]","name":"contracts","type":"address[]"},{"internalType":"bytes[]","name":"checkdata","type":"bytes[]"},{"internalType":"uint256[]","name":"offset","type":"uint256[]"},{"internalType":"uint256[]","name":"calculationsLen","type":"uint256[]"},{"internalType":"uint256[]","name":"calculations","type":"uint256[]"},{"internalType":"uint256[]","name":"conditionsLen","type":"uint256[]"},{"internalType":"uint256[]","name":"conditions","type":"uint256[]"}],"internalType":"struct DebtAllocator.PackedStrategies","name":"_packedStrategies","type":"tuple"}],"name":"saveSnapshot","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"snapshotTimestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"stalePeriod","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"staleSnapshotPeriod","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"strategiesHash","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"targetAllocation","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_cairoProgramHash","type":"bytes32"}],"name":"updateCairoProgramHash","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_cairoVerifier","type":"address"}],"name":"updateCairoVerifier","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_rewardsPayer","type":"address"},{"internalType":"address","name":"_rewardsStreamer","type":"address"},{"internalType":"uint216","name":"_rewardsPerSec","type":"uint216"}],"name":"updateRewardsConfig","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_stalePeriod","type":"uint256"}],"name":"updateStalePeriod","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_staleSnapshotPeriod","type":"uint256"}],"name":"updateStaleSnapshotPeriod","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"components":[{"internalType":"address[]","name":"addresses","type":"address[]"},{"internalType":"uint256[]","name":"callLen","type":"uint256[]"},{"internalType":"address[]","name":"contracts","type":"address[]"},{"internalType":"bytes[]","name":"checkdata","type":"bytes[]"},{"internalType":"uint256[]","name":"offset","type":"uint256[]"},{"internalType":"uint256[]","name":"calculationsLen","type":"uint256[]"},{"internalType":"uint256[]","name":"calculations","type":"uint256[]"},{"internalType":"uint256[]","name":"conditionsLen","type":"uint256[]"},{"internalType":"uint256[]","name":"conditions","type":"uint256[]"}],"internalType":"struct DebtAllocator.PackedStrategies","name":"_packedStrategies","type":"tuple"},{"internalType":"uint256","name":"indexStrategyToUpdate","type":"uint256"},{"components":[{"internalType":"uint256","name":"callLen","type":"uint256"},{"internalType":"address[]","name":"contracts","type":"address[]"},{"internalType":"bytes[]","name":"checkdata","type":"bytes[]"},{"internalType":"uint256[]","name":"offset","type":"uint256[]"},{"internalType":"uint256","name":"calculationsLen","type":"uint256"},{"internalType":"uint256[]","name":"calculations","type":"uint256[]"},{"internalType":"uint256","name":"conditionsLen","type":"uint256"},{"internalType":"uint256[]","name":"conditions","type":"uint256[]"}],"internalType":"struct DebtAllocator.StrategyParam","name":"_newStrategyParam","type":"tuple"}],"name":"updateStrategy","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"programOutput","type":"uint256[]"}],"name":"verifySolution","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"nonpayable","type":"function"}],"contractName":"DebtAllocator","deploymentBytecode":{"bytecode":"0x60806040819052670de0b6b3a7640000600155600280546001600160a01b0319169055600060035562015180600b819055600c5569152d02c7e14af680000060105562005823388190039081908339810160408190526200006091620000c3565b6200006b3362000073565b5050620000ff565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60008060408385031215620000d757600080fd5b82516001600160a01b0381168114620000ef57600080fd5b6020939093015192949293505050565b615714806200010f6000396000f3fe608060405234801561001057600080fd5b50600436106101ef5760003560e01c80638da5cb5b1161010f578063c0463711116100a2578063d0d202b311610071578063d0d202b314610403578063eaf3a18814610416578063f2fde38b14610436578063fd94c6801461044957600080fd5b8063c0463711146103d5578063c1a2e32b146103de578063c671dbd9146103f1578063cfce5dd9146103fa57600080fd5b8063a8e4fb90116100de578063a8e4fb9014610393578063ad957ac3146103a6578063b03780a1146103b9578063b21f147f146103cc57600080fd5b80638da5cb5b1461035d578063944f38431461036e578063a1221c6f14610381578063a5b36a361461038a57600080fd5b8063372500ab11610187578063644900a611610156578063644900a6146103265780636732478514610339578063715018a61461034257806380609a6c1461034a57600080fd5b8063372500ab146102de578063374e8334146102e6578063408378bd146102ef5780635dbc7af41461030257600080fd5b80630e0cdd2e116101c35780630e0cdd2e14610284578063126662d3146102975780631ebe1d68146102aa57806327756afd146102bd57600080fd5b8062893452146101f4578063030e886914610224578063078e07d7146102395780630e076ac314610259575b600080fd5b600f54610207906001600160d81b031681565b6040516001600160d81b0390911681526020015b60405180910390f35b610237610232366004614838565b61045c565b005b61024c610247366004614902565b610c9d565b60405161021b91906149d6565b600e5461026c906001600160a01b031681565b6040516001600160a01b03909116815260200161021b565b6102376102923660046149f0565b610dfb565b6102376102a5366004614dec565b610e3f565b6102376102b8366004614e30565b611c1e565b6102d06102cb3660046149f0565b611d92565b60405190815260200161021b565b610237611db3565b6102d060105481565b600d5461026c906001600160a01b031681565b610315610310366004614e7c565b611e05565b60405161021b959493929190614ebd565b6102376103343660046149f0565b61204c565b6102d060035481565b610237612089565b610237610358366004614efd565b61209b565b6000546001600160a01b031661026c565b61023761037c366004614e7c565b6121c5565b6102d0600b5481565b6102d0600c5481565b60055461026c906001600160a01b031681565b6102d06103b4366004614e7c565b6122bc565b60025461026c906001600160a01b031681565b6102d060095481565b6102d060075481565b6102376103ec3660046149f0565b6125b7565b6102d060065481565b6102d060085481565b61023761041136600461502d565b6125f4565b6102d06104243660046149f0565b600a6020526000908152604090205481565b610237610444366004615099565b613bf2565b610237610457366004615099565b613c6b565b610464613cc1565b600061048461047660608601866150b6565b61047f916150ff565b613d1b565b90506008546000146104a7576104a261049c8561510c565b82613dd4565b6104f2565b6104b184806150b6565b1590506104f25760405162461bcd60e51b815260206004820152600a60248201526946495253545f4441544160b01b60448201526064015b60405180910390fd5b60005b6104ff85806150b6565b905081101561059b576001600160a01b03841661051c86806150b6565b8381811061052c5761052c615118565b90506020020160208101906105419190615099565b6001600160a01b0316036105895760405162461bcd60e51b815260206004820152600f60248201526e53545241544547595f45584953545360881b60448201526064016104e9565b8061059381615144565b9150506104f5565b506105ad6105a88361515d565b613e65565b60006105b985806150b6565b6105c591506001615169565b6001600160401b038111156105dc576105dc614a09565b604051908082528060200260200182016040528015610605578160200160208202803683370190505b50905060005b61061586806150b6565b90508110156106895761062886806150b6565b8281811061063857610638615118565b905060200201602081019061064d9190615099565b82828151811061065f5761065f615118565b6001600160a01b03909216602092830291909101909101528061068181615144565b91505061060b565b50838161069687806150b6565b9050815181106106a8576106a8615118565b6001600160a01b0390921660209283029190910182015260009061070c906106d2908801886150b6565b808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152505087359150613fe79050565b90506000843561071f60408901896150b6565b61072a929150615169565b6001600160401b0381111561074157610741614a09565b60405190808252806020026020018201604052801561076a578160200160208202803683370190505b50905060005b61077d60408901896150b6565b90508110156107f45761079360408901896150b6565b828181106107a3576107a3615118565b90506020020160208101906107b89190615099565b8282815181106107ca576107ca615118565b6001600160a01b0390921660209283029190910190910152806107ec81615144565b915050610770565b5060005b85358110156108865761080e60208701876150b6565b8281811061081e5761081e615118565b90506020020160208101906108339190615099565b8261084160408b018b6150b6565b61084c915084615169565b8151811061085c5761085c615118565b6001600160a01b03909216602092830291909101909101528061087e81615144565b9150506107f8565b50843561089660608901896150b6565b6108a1929150615169565b6001600160401b038111156108b8576108b8614a09565b6040519080825280602002602001820160405280156108e1578160200160208202803683370190505b50935060005b6108f460608901896150b6565b90508110156109725761090a60608901896150b6565b8281811061091a5761091a615118565b905060200281019061092c919061517c565b610935916151c2565b85828151811061094757610947615118565b6001600160e01b0319909216602092830291909101909101528061096a81615144565b9150506108e7565b5060005b8535811015610a0b5761098c60408701876150b6565b8281811061099c5761099c615118565b90506020028101906109ae919061517c565b6109b7916151c2565b856109c560608b018b6150b6565b6109d0915084615169565b815181106109e0576109e0615118565b6001600160e01b03199092166020928302919091019091015280610a0381615144565b915050610976565b506000610a94610a1e60808a018a6150b6565b80806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250610a5d9250505060608901896150b6565b808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152506140b692505050565b90506000610ae3610aa860a08b018b6150b6565b808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152505050506080890135613fe7565b90506000610b36610af760c08c018c6150b6565b80806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250610a5d9250505060a08b018b6150b6565b90506000610b85610b4a60e08d018d6150b6565b8080602002602001604051908101604052809392919081815260200183836020028082843760009201919091525050505060c08b0135613fe7565b90506000610bd9610b9a6101008e018e6150b6565b80806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250610a5d9250505060e08d018d6150b6565b90508787878b8888888888604051602001610bfc99989796959493929190615246565b60408051601f198184030181529082905280516020909101206008556004805460018101825560009182527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b01557f8e53c9a718e34c6a61b1c74a1c66c621f44ef9e718867f22079ac7a600042ee190610c87908a908a908a908e908b908b908b908b908b9061530c565b60405180910390a1505050505050505050505050565b60606000866001600160401b03811115610cb957610cb9614a09565b604051908082528060200260200182016040528015610ce2578160200160208202803683370190505b50905060005b87811015610def576000898983818110610d0457610d04615118565b9050602002016020810190610d199190615099565b6001600160a01b0316888884818110610d3457610d34615118565b9050602002810190610d46919061517c565b604051610d549291906153ef565b6000604051808303816000865af19150503d8060008114610d91576040519150601f19603f3d011682016040523d82523d6000602084013e610d96565b606091505b50915050610dbc81878785818110610db057610db0615118565b905060200201356141c9565b60001c838381518110610dd157610dd1615118565b60209081029190910101525080610de781615144565b915050610ce8565b50979650505050505050565b610e03613cc1565b60038190556040518181527ff1ec1146b34ac057e939c68e0d1b14850406891906b28277b3bb7021740a9c4a906020015b60405180910390a150565b610e47613cc1565b600854600003610e695760405162461bcd60e51b81526004016104e9906153ff565b6000610e788360600151613d1b565b9050610e848382613dd4565b8251518210610e9257600080fd5b60006001846020015151610ea69190615426565b6001600160401b03811115610ebd57610ebd614a09565b604051908082528060200260200182016040528015610ee6578160200160208202803683370190505b509050600060018560a0015151610efd9190615426565b6001600160401b03811115610f1457610f14614a09565b604051908082528060200260200182016040528015610f3d578160200160208202803683370190505b509050600060018660e0015151610f549190615426565b6001600160401b03811115610f6b57610f6b614a09565b604051908082528060200260200182016040528015610f94578160200160208202803683370190505b509050600086602001518681518110610faf57610faf615118565b6020026020010151876040015151610fc79190615426565b6001600160401b03811115610fde57610fde614a09565b604051908082528060200260200182016040528015611007578160200160208202803683370190505b5090508660200151868151811061102057611020615118565b60200260200101518760600151516110389190615426565b6001600160401b0381111561104f5761104f614a09565b604051908082528060200260200182016040528015611078578160200160208202803683370190505b50945060008760200151878151811061109357611093615118565b60200260200101518860800151516110ab9190615426565b6001600160401b038111156110c2576110c2614a09565b6040519080825280602002602001820160405280156110eb578160200160208202803683370190505b50905060008860a00151888151811061110657611106615118565b60200260200101518960c001515161111e9190615426565b6001600160401b0381111561113557611135614a09565b60405190808252806020026020018201604052801561115e578160200160208202803683370190505b50905060008960e00151898151811061117957611179615118565b60200260200101518a6101000151516111929190615426565b6001600160401b038111156111a9576111a9614a09565b6040519080825280602002602001820160405280156111d2578160200160208202803683370190505b5090508860005b8181101561122e578b6020015181815181106111f7576111f7615118565b602002602001015189828151811061121157611211615118565b60209081029190910101528061122681615144565b9150506111d9565b5060005b61123d826001615169565b8c515161124a9190615426565b8110156112be5760208c015181611262846001615169565b61126c9190615169565b8151811061127c5761127c615118565b60200260200101518982846112919190615169565b815181106112a1576112a1615118565b6020908102919091010152806112b681615144565b915050611232565b5060005b81811015611317578b60a0015181815181106112e0576112e0615118565b60200260200101518882815181106112fa576112fa615118565b60209081029190910101528061130f81615144565b9150506112c2565b5060005b611326826001615169565b8c51516113339190615426565b8110156113a75760a08c01518161134b846001615169565b6113559190615169565b8151811061136557611365615118565b602002602001015188828461137a9190615169565b8151811061138a5761138a615118565b60209081029190910101528061139f81615144565b91505061131b565b5060005b81811015611400578b60e0015181815181106113c9576113c9615118565b60200260200101518782815181106113e3576113e3615118565b6020908102919091010152806113f881615144565b9150506113ab565b5060005b61140f826001615169565b8c515161141c9190615426565b8110156114905760e08c015181611434846001615169565b61143e9190615169565b8151811061144e5761144e615118565b60200260200101518782846114639190615169565b8151811061147357611473615118565b60209081029190910101528061148881615144565b915050611404565b50600080915060005b8c51518110156114eb578b81036114ae578192505b8c6020015181815181106114c4576114c4615118565b6020026020010151826114d79190615169565b9150806114e381615144565b915050611499565b5060005b82811015611551578c60400151818151811061150d5761150d615118565b602002602001015187828151811061152757611527615118565b6001600160a01b03909216602092830291909101909101528061154981615144565b9150506114ef565b5060005b8c602001518c8151811061156b5761156b615118565b60200260200101518361157e9190615169565b6115889083615426565b811015611627578c60400151818e602001518e815181106115ab576115ab615118565b6020026020010151856115be9190615169565b6115c89190615169565b815181106115d8576115d8615118565b60200260200101518784836115ed9190615169565b815181106115fd576115fd615118565b6001600160a01b03909216602092830291909101909101528061161f81615144565b915050611555565b5060005b82811015611697578c60600151818151811061164957611649615118565b602002602001015161165a90615439565b8b828151811061166c5761166c615118565b6001600160e01b0319909216602092830291909101909101528061168f81615144565b91505061162b565b5060005b8c602001518c815181106116b1576116b1615118565b6020026020010151836116c49190615169565b6116ce9083615426565b811015611775578c60600151818e602001518e815181106116f1576116f1615118565b6020026020010151856117049190615169565b61170e9190615169565b8151811061171e5761171e615118565b602002602001015161172f90615439565b8b61173a8584615169565b8151811061174a5761174a615118565b6001600160e01b0319909216602092830291909101909101528061176d81615144565b91505061169b565b5060005b828110156117ce578c60800151818151811061179757611797615118565b60200260200101518682815181106117b1576117b1615118565b6020908102919091010152806117c681615144565b915050611779565b5060005b8c602001518c815181106117e8576117e8615118565b6020026020010151836117fb9190615169565b6118059083615426565b811015611897578c60800151818e602001518e8151811061182857611828615118565b60200260200101518561183b9190615169565b6118459190615169565b8151811061185557611855615118565b602002602001015186848361186a9190615169565b8151811061187a5761187a615118565b60209081029190910101528061188f81615144565b9150506117d2565b50600090506000915060005b8c51518110156118f5578b81036118b8578192505b8c60a0015181815181106118ce576118ce615118565b6020026020010151826118e19190615169565b9150806118ed81615144565b9150506118a3565b5060005b8281101561194e578c60c00151818151811061191757611917615118565b602002602001015185828151811061193157611931615118565b60209081029190910101528061194681615144565b9150506118f9565b5060005b8c60a001518c8151811061196857611968615118565b60200260200101518361197b9190615169565b6119859083615426565b811015611a17578c60c00151818e60a001518e815181106119a8576119a8615118565b6020026020010151856119bb9190615169565b6119c59190615169565b815181106119d5576119d5615118565b60200260200101518584836119ea9190615169565b815181106119fa576119fa615118565b602090810291909101015280611a0f81615144565b915050611952565b50600090506000915060005b8c5151811015611a75578b8103611a38578192505b8c60e001518181518110611a4e57611a4e615118565b602002602001015182611a619190615169565b915080611a6d81615144565b915050611a23565b5060005b82811015611acf578c61010001518181518110611a9857611a98615118565b6020026020010151848281518110611ab257611ab2615118565b602090810291909101015280611ac781615144565b915050611a79565b5060005b8c60e001518c81518110611ae957611ae9615118565b602002602001015183611afc9190615169565b611b069083615426565b811015611b99578c6101000151818e60e001518e81518110611b2a57611b2a615118565b602002602001015185611b3d9190615169565b611b479190615169565b81518110611b5757611b57615118565b6020026020010151848483611b6c9190615169565b81518110611b7c57611b7c615118565b602090810291909101015280611b9181615144565b915050611ad3565b508b51604051611bbc91908b9089908e908a908e908b908f908c90602001615246565b6040516020818303038152906040528051906020012060001c6008819055507f30bb8971424ac048a04b1a560b5d691478a0bab916cf71a19c08b2c69ab32f2d8c600001518a888d898d8a8e8b604051610c879998979695949392919061530c565b611c26613cc1565b604051630502c30760e51b81526000906001600160a01b0384169063a05860e090611c5990879030908790600401615470565b602060405180830381865afa158015611c76573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611c9a919061549c565b604051636bc1609560e01b8152600481018290529091506000906001600160a01b03851690636bc1609590602401602060405180830381865afa158015611ce5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611d09919061549c565b11611d3f5760405162461bcd60e51b815260206004820152600660248201526553545245414d60d01b60448201526064016104e9565b50600d80546001600160a01b03199081166001600160a01b0395861617909155600e80549091169290931691909117909155600f80546001600160d81b0319166001600160d81b03909216919091179055565b60048181548110611da257600080fd5b600091825260209091200154905081565b6005546001600160a01b03163314611dfb5760405162461bcd60e51b815260206004820152600b60248201526a1393d517d0531313d5d15160aa1b60448201526064016104e9565b611e0361422e565b565b6000606080600080608087876000818110611e2257611e22615118565b90506020020135901b945086866001818110611e4057611e40615118565b9050602002013585611e529190615169565b945086866002818110611e6757611e67615118565b905060200201356001600160401b03811115611e8557611e85614a09565b604051908082528060200260200182016040528015611eae578160200160208202803683370190505b50935086866002818110611ec457611ec4615118565b905060200201356001600160401b03811115611ee257611ee2614a09565b604051908082528060200260200182016040528015611f0b578160200160208202803683370190505b50925060005b87876002818110611f2457611f24615118565b90506020020135811015611feb578787611f3f836003615169565b818110611f4e57611f4e615118565b90506020020135858281518110611f6757611f67615118565b602002602001018181525050878789896002818110611f8857611f88615118565b90506020020135836004611f9c9190615169565b611fa69190615169565b818110611fb557611fb5615118565b90506020020135848281518110611fce57611fce615118565b602090810291909101015280611fe381615144565b915050611f11565b508484848989611ffc600282615426565b81811061200b5761200b615118565b602002919091013590508a8a612022600182615426565b81811061203157612031615118565b90506020020135945094509450945094509295509295909350565b612054613cc1565b600b8190556040518181527fb661c316bad6aba02e92ad9084ba0146824efd8c122d24f668d4c6845cd0b80c90602001610e34565b612091613cc1565b611e0360006144a7565b6008546000036120bd5760405162461bcd60e51b81526004016104e9906153ff565b60006120cf61047660608401846150b6565b90506120dd61049c8361510c565b60006121096120ef60408501856150b6565b6120fc60608701876150b6565b61024760808901896150b6565b90508061211960c08501856150b6565b6121276101008701876150b6565b60405160200161213b9594939291906154de565b60408051601f19818403018152918152815160209283012060098190556000908152600a90925290204290557f316d5bca887648a73e73b926bab4c3ce4607be522c563cae9ba58f917b319f868161219660c08601866150b6565b6121a46101008801886150b6565b60046040516121b896959493929190615530565b60405180910390a1505050565b6121cd613cc1565b6008546000036121ef5760405162461bcd60e51b81526004016104e9906153ff565b60045481146122295760405162461bcd60e51b81526020600482015260066024820152650988a9c8ea8960d31b60448201526064016104e9565b60005b8181101561227e5782828281811061224657612246615118565b905060200201356004828154811061226057612260615118565b6000918252602090912001558061227681615144565b91505061222c565b507fb0f3a2c8912b49e525985f502184ccbfd45b28a1fe72ceab84bbdc8deab16e9e82826040516122b09291906155b5565b60405180910390a15050565b6009546000818152600a6020526040812054600b5491929142906122e09083615169565b1161231e5760405162461bcd60e51b815260206004820152600e60248201526d14d510531157d4d3905414d213d560921b60448201526064016104e9565b60008060008060006123308a8a611e05565b945094509450945094508685146123725760405162461bcd60e51b81526004016104e99060208082526004908201526309082a6960e31b604082015260600190565b835160045414801561238657508251600454145b6123d25760405162461bcd60e51b815260206004820152601860248201527f5441524745545f414c4c4f434154494f4e5f4c454e475448000000000000000060448201526064016104e9565b81601054826123e19190615426565b10156124195760405162461bcd60e51b81526020600482015260076024820152661513d3d7d0905160ca1b60448201526064016104e9565b60008a8a60405160200161242e9291906155c9565b604051602081830303815290604052805190602001209050600060035482604051602001612466929190918252602082015260400190565b60408051808303601f19018152908290528051602090910120600254636a93856760e01b8352600483018290529092506001600160a01b031690636a93856790602401602060405180830381865afa1580156124c6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906124ea91906155d6565b6125265760405162461bcd60e51b815260206004820152600d60248201526c26a4a9a9a4a723afa82927a7a360991b60448201526064016104e9565b84516125399060049060208801906147b0565b504260075561254661422e565b600580546001600160a01b031916331790556125628484615426565b60068190556040517fd5fcaa64c9cd5e658564ea2213a28b82e520ca0b84641401e702c3f6495be2ec9161259e918691899133919042906155f8565b60405180910390a1985050505050505050505b92915050565b6125bf613cc1565b600c8190556040518181527f6c5816d6599cc31297ca644605cb3d6d8adb2c4bf581eaa2b0827880a5e3b52790602001610e34565b6125fc613cc1565b60085460000361261e5760405162461bcd60e51b81526004016104e9906153ff565b600061262d8460600151613d1b565b90506126398482613dd4565b835151831061267f5760405162461bcd60e51b8152602060048201526012602482015271494e4445585f4f55545f4f465f52414e474560701b60448201526064016104e9565b61268882613e65565b60008460200151516001600160401b038111156126a7576126a7614a09565b6040519080825280602002602001820160405280156126d0578160200160208202803683370190505b50905060008560a00151516001600160401b038111156126f2576126f2614a09565b60405190808252806020026020018201604052801561271b578160200160208202803683370190505b50905060008660e00151516001600160401b0381111561273d5761273d614a09565b604051908082528060200260200182016040528015612766578160200160208202803683370190505b509050600085600001518860200151888151811061278657612786615118565b602002602001015189604001515161279e9190615426565b6127a89190615169565b6001600160401b038111156127bf576127bf614a09565b6040519080825280602002602001820160405280156127e8578160200160208202803683370190505b50905085600001518860200151888151811061280657612806615118565b602002602001015189606001515161281e9190615426565b6128289190615169565b6001600160401b0381111561283f5761283f614a09565b604051908082528060200260200182016040528015612868578160200160208202803683370190505b509450600086600001518960200151898151811061288857612888615118565b60200260200101518a60800151516128a09190615426565b6128aa9190615169565b6001600160401b038111156128c1576128c1614a09565b6040519080825280602002602001820160405280156128ea578160200160208202803683370190505b509050600087608001518a60a001518a8151811061290a5761290a615118565b60200260200101518b60c00151516129229190615426565b61292c9190615169565b6001600160401b0381111561294357612943614a09565b60405190808252806020026020018201604052801561296c578160200160208202803683370190505b50905060008860c001518b60e001518b8151811061298c5761298c615118565b60200260200101518c6101000151516129a59190615426565b6129af9190615169565b6001600160401b038111156129c6576129c6614a09565b6040519080825280602002602001820160405280156129ef578160200160208202803683370190505b508b51519091508a90612a0490600190615426565b8b0361306a5760005b81811015612a62578c602001518181518110612a2b57612a2b615118565b6020026020010151898281518110612a4557612a45615118565b602090810291909101015280612a5a81615144565b915050612a0d565b508960000151888281518110612a7a57612a7a615118565b60200260200101818152505060005b81811015612ade578c60a001518181518110612aa757612aa7615118565b6020026020010151888281518110612ac157612ac1615118565b602090810291909101015280612ad681615144565b915050612a89565b508960800151878281518110612af657612af6615118565b60200260200101818152505060005b81811015612b5a578c60e001518181518110612b2357612b23615118565b6020026020010151878281518110612b3d57612b3d615118565b602090810291909101015280612b5281615144565b915050612b05565b508960c00151868281518110612b7257612b72615118565b6020908102919091010152506000805b8b811015612bc7578c602001518181518110612ba057612ba0615118565b602002602001015182612bb39190615169565b915080612bbf81615144565b915050612b82565b5060005b81811015612c2d578c604001518181518110612be957612be9615118565b6020026020010151868281518110612c0357612c03615118565b6001600160a01b039092166020928302919091019091015280612c2581615144565b915050612bcb565b5060005b8a51811015612c9f578a602001518181518110612c5057612c50615118565b6020026020010151868383612c659190615169565b81518110612c7557612c75615118565b6001600160a01b039092166020928302919091019091015280612c9781615144565b915050612c31565b5060005b81811015612d0f578c606001518181518110612cc157612cc1615118565b6020026020010151612cd290615439565b8a8281518110612ce457612ce4615118565b6001600160e01b03199092166020928302919091019091015280612d0781615144565b915050612ca3565b5060005b8a51811015612d89578a604001518181518110612d3257612d32615118565b6020026020010151612d4390615439565b8a612d4e8484615169565b81518110612d5e57612d5e615118565b6001600160e01b03199092166020928302919091019091015280612d8181615144565b915050612d13565b5060005b81811015612de2578c608001518181518110612dab57612dab615118565b6020026020010151858281518110612dc557612dc5615118565b602090810291909101015280612dda81615144565b915050612d8d565b5060005b8a51811015612e47578a606001518181518110612e0557612e05615118565b6020026020010151858383612e1a9190615169565b81518110612e2a57612e2a615118565b602090810291909101015280612e3f81615144565b915050612de6565b506000905060005b8b811015612e94578c60a001518181518110612e6d57612e6d615118565b602002602001015182612e809190615169565b915080612e8c81615144565b915050612e4f565b5060005b81811015612eed578c60c001518181518110612eb657612eb6615118565b6020026020010151848281518110612ed057612ed0615118565b602090810291909101015280612ee581615144565b915050612e98565b5060005b8a60800151811015612f55578a60a001518181518110612f1357612f13615118565b6020026020010151848383612f289190615169565b81518110612f3857612f38615118565b602090810291909101015280612f4d81615144565b915050612ef1565b506000905060005b8b811015612fa2578c60e001518181518110612f7b57612f7b615118565b602002602001015182612f8e9190615169565b915080612f9a81615144565b915050612f5d565b5060005b81811015612ffc578c61010001518181518110612fc557612fc5615118565b6020026020010151838281518110612fdf57612fdf615118565b602090810291909101015280612ff481615144565b915050612fa6565b5060005b8a60c00151811015613064578a60e00151818151811061302257613022615118565b60200260200101518383836130379190615169565b8151811061304757613047615118565b60209081029190910101528061305c81615144565b915050613000565b50613b76565b60005b818110156130c2578c60200151818151811061308b5761308b615118565b60200260200101518982815181106130a5576130a5615118565b6020908102919091010152806130ba81615144565b91505061306d565b5089600001518882815181106130da576130da615118565b602090810291909101015260006130f2826001615169565b90505b8c602001515181101561314f578c60200151818151811061311857613118615118565b602002602001015189828151811061313257613132615118565b60209081029190910101528061314781615144565b9150506130f5565b5060005b818110156131a8578c60a00151818151811061317157613171615118565b602002602001015188828151811061318b5761318b615118565b6020908102919091010152806131a081615144565b915050613153565b5089608001518782815181106131c0576131c0615118565b602090810291909101015260006131d8826001615169565b90505b8c60a0015151811015613235578c60a0015181815181106131fe576131fe615118565b602002602001015188828151811061321857613218615118565b60209081029190910101528061322d81615144565b9150506131db565b5060005b8181101561328e578c60e00151818151811061325757613257615118565b602002602001015187828151811061327157613271615118565b60209081029190910101528061328681615144565b915050613239565b508960c001518682815181106132a6576132a6615118565b602090810291909101015260006132be826001615169565b90505b8c60e001515181101561331b578c60e0015181815181106132e4576132e4615118565b60200260200101518782815181106132fe576132fe615118565b60209081029190910101528061331381615144565b9150506132c1565b50600080915060005b8d5151811015613376578c8103613339578192505b8d60200151818151811061334f5761334f615118565b6020026020010151826133629190615169565b91508061336e81615144565b915050613324565b5060008d602001518d8151811061338f5761338f615118565b6020026020010151836133a29190615169565b905060005b83811015613409578e6040015181815181106133c5576133c5615118565b60200260200101518882815181106133df576133df615118565b6001600160a01b03909216602092830291909101909101528061340181615144565b9150506133a7565b5060005b8c5181101561347b578c60200151818151811061342c5761342c615118565b60200260200101518885836134419190615169565b8151811061345157613451615118565b6001600160a01b03909216602092830291909101909101528061347381615144565b91505061340d565b5060005b6134898284615426565b81101561350d5760408f015161349f8284615169565b815181106134af576134af615118565b6020026020010151888e6000015186846134c99190615169565b6134d39190615169565b815181106134e3576134e3615118565b6001600160a01b03909216602092830291909101909101528061350581615144565b91505061347f565b5060005b8381101561357d578e60600151818151811061352f5761352f615118565b602002602001015161354090615439565b8c828151811061355257613552615118565b6001600160e01b0319909216602092830291909101909101528061357581615144565b915050613511565b5060005b8c518110156135f7578c6040015181815181106135a0576135a0615118565b60200260200101516135b190615439565b8c6135bc8684615169565b815181106135cc576135cc615118565b6001600160e01b031990921660209283029190910190910152806135ef81615144565b915050613581565b5060005b6136058284615426565b81101561368f5760608f015161361b8284615169565b8151811061362b5761362b615118565b602002602001015161363c90615439565b8d518d9061364a8785615169565b6136549190615169565b8151811061366457613664615118565b6001600160e01b0319909216602092830291909101909101528061368781615144565b9150506135fb565b5060005b838110156136e8578e6080015181815181106136b1576136b1615118565b60200260200101518782815181106136cb576136cb615118565b6020908102919091010152806136e081615144565b915050613693565b5060005b8c5181101561374d578c60600151818151811061370b5761370b615118565b60200260200101518785836137209190615169565b8151811061373057613730615118565b60209081029190910101528061374581615144565b9150506136ec565b5060005b61375b8284615426565b8110156137d25760808f01516137718284615169565b8151811061378157613781615118565b6020026020010151878e60000151868461379b9190615169565b6137a59190615169565b815181106137b5576137b5615118565b6020908102919091010152806137ca81615144565b915050613751565b50600091506000925060005b8e5151811015613830578d81036137f3578293505b8e60a00151818151811061380957613809615118565b60200260200101518361381c9190615169565b92508061382881615144565b9150506137de565b508d60a001518d8151811061384757613847615118565b60200260200101518361385a9190615169565b905060005b838110156138b4578e60c00151818151811061387d5761387d615118565b602002602001015186828151811061389757613897615118565b6020908102919091010152806138ac81615144565b91505061385f565b5060005b8c6080015181101561391c578c60a0015181815181106138da576138da615118565b60200260200101518685836138ef9190615169565b815181106138ff576138ff615118565b60209081029190910101528061391481615144565b9150506138b8565b5060005b61392a8284615426565b8110156139a15760c08f01516139408284615169565b8151811061395057613950615118565b6020026020010151868e60800151868461396a9190615169565b6139749190615169565b8151811061398457613984615118565b60209081029190910101528061399981615144565b915050613920565b50600091506000925060005b8e51518110156139ff578d81036139c2578293505b8e60e0015181815181106139d8576139d8615118565b6020026020010151836139eb9190615169565b9250806139f781615144565b9150506139ad565b508d60e001518d81518110613a1657613a16615118565b602002602001015183613a299190615169565b905060005b83811015613a84578e61010001518181518110613a4d57613a4d615118565b6020026020010151858281518110613a6757613a67615118565b602090810291909101015280613a7c81615144565b915050613a2e565b5060005b8c60c00151811015613aec578c60e001518181518110613aaa57613aaa615118565b6020026020010151858583613abf9190615169565b81518110613acf57613acf615118565b602090810291909101015280613ae481615144565b915050613a88565b5060005b613afa8284615426565b811015613b72576101008f0151613b118284615169565b81518110613b2157613b21615118565b6020026020010151858e60c001518684613b3b9190615169565b613b459190615169565b81518110613b5557613b55615118565b602090810291909101015280613b6a81615144565b915050613af0565b5050505b8b51604051613b9891908a9088908d9089908d908a908e908b90602001615246565b60408051601f198184030181529082905280516020909101206008558c517fdf3782d38af4ae54183a27faea5e61e7d27832f0f7df356a318c7fb9be2b553d91610c8791908b9089908e908a908e908b908f908c9061530c565b613bfa613cc1565b6001600160a01b038116613c5f5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016104e9565b613c68816144a7565b50565b613c73613cc1565b600280546001600160a01b0319166001600160a01b0383169081179091556040519081527f65c06354eb3fcefa304d7f9e42b42755fb21798520591cfbd099ef50d24f0dcd90602001610e34565b6000546001600160a01b03163314611e035760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016104e9565b606081516001600160401b03811115613d3657613d36614a09565b604051908082528060200260200182016040528015613d5f578160200160208202803683370190505b50905060005b8251811015613dce57828181518110613d8057613d80615118565b6020026020010151613d9190615439565b828281518110613da357613da3615118565b6001600160e01b03199092166020928302919091019091015280613dc681615144565b915050613d65565b50919050565b8151602080840151604080860151608087015160a088015160c089015160e08a01516101008b01519551613e0f999895968b96909101615246565b6040516020818303038152906040528051906020012060001c60085414613e615760405162461bcd60e51b81526004016104e9906020808252600490820152634441544160e01b604082015260600190565b5050565b6020810151518151148015613e7f57506040810151518151145b8015613e9057506060810151518151145b8015613ea457508060a00151518160800151145b8015613eb857508060e00151518160c00151145b613ef05760405162461bcd60e51b815260206004820152600960248201526820a92920acafa622a760b91b60448201526064016104e9565b60005b8151811015613e6157600082602001518281518110613f1457613f14615118565b60200260200101516001600160a01b031683604001518381518110613f3b57613f3b615118565b6020026020010151604051613f50919061565b565b6000604051808303816000865af19150503d8060008114613f8d576040519150601f19603f3d011682016040523d82523d6000602084013e613f92565b606091505b5090915050600181151514613fd45760405162461bcd60e51b815260206004820152600860248201526743414c4c4441544160c01b60448201526064016104e9565b5080613fdf81615144565b915050613ef3565b606082516001613ff79190615169565b6001600160401b0381111561400e5761400e614a09565b604051908082528060200260200182016040528015614037578160200160208202803683370190505b50905060005b835181101561408f5783818151811061405857614058615118565b602002602001015182828151811061407257614072615118565b60209081029190910101528061408781615144565b91505061403d565b5081818451815181106140a4576140a4615118565b60200260200101818152505092915050565b6060815183516140c69190615169565b6001600160401b038111156140dd576140dd614a09565b604051908082528060200260200182016040528015614106578160200160208202803683370190505b50905060005b835181101561415e5783818151811061412757614127615118565b602002602001015182828151811061414157614141615118565b60209081029190910101528061415681615144565b91505061410c565b50825160005b83518110156141c15783818151811061417f5761417f615118565b60200260200101518383836141949190615169565b815181106141a4576141a4615118565b6020908102919091010152806141b981615144565b915050614164565b505092915050565b60008060005b6020811015614226576141e3816008615677565b856141ee8387615169565b815181106141fe576141fe615118565b01602001516001600160f81b031916901c91909117908061421e81615144565b9150506141cf565b509392505050565b600e546001600160a01b0316806142425750565b600d54600f54604051630502c30760e51b81526000926001600160a01b038086169363a05860e093614286939092169130916001600160d81b031690600401615470565b602060405180830381865afa1580156142a3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906142c7919061549c565b604051636bc1609560e01b8152600481018290529091506001600160a01b03831690636bc1609590602401602060405180830381865afa15801561430f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190614333919061549c565b60000361433e575050565b6000826001600160a01b031663fc0c546a6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561437e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906143a2919061568e565b600d54600f546040516305e959b960e21b81529293506001600160a01b03808716936317a566e4936143e79392169130916001600160d81b0390911690600401615470565b600060405180830381600087803b15801561440157600080fd5b505af1158015614415573d6000803e3d6000fd5b50506040516370a0823160e01b8152306004820152600092506001600160a01b03841691506370a0823190602401602060405180830381865afa158015614460573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190614484919061549c565b6005549091506144a1906001600160a01b038481169116836144f7565b50505050565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180516001600160e01b031663a9059cbb60e01b17905261454990849061454e565b505050565b60006145a3826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b03166146209092919063ffffffff16565b80519091501561454957808060200190518101906145c191906155d6565b6145495760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e6044820152691bdd081cdd58d8d9595960b21b60648201526084016104e9565b606061462f8484600085614637565b949350505050565b6060824710156146985760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f6044820152651c8818d85b1b60d21b60648201526084016104e9565b600080866001600160a01b031685876040516146b4919061565b565b60006040518083038185875af1925050503d80600081146146f1576040519150601f19603f3d011682016040523d82523d6000602084013e6146f6565b606091505b509150915061470787838387614712565b979650505050505050565b6060831561478157825160000361477a576001600160a01b0385163b61477a5760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060448201526064016104e9565b508161462f565b61462f83838151156147965781518083602001fd5b8060405162461bcd60e51b81526004016104e991906156ab565b8280548282559060005260206000209081019282156147eb579160200282015b828111156147eb5782518255916020019190600101906147d0565b506147f79291506147fb565b5090565b5b808211156147f757600081556001016147fc565b60006101208284031215613dce57600080fd5b6001600160a01b0381168114613c6857600080fd5b60008060006060848603121561484d57600080fd5b83356001600160401b038082111561486457600080fd5b61487087838801614810565b94506020860135915061488282614823565b9092506040850135908082111561489857600080fd5b50840161010081870312156148ac57600080fd5b809150509250925092565b60008083601f8401126148c957600080fd5b5081356001600160401b038111156148e057600080fd5b6020830191508360208260051b85010111156148fb57600080fd5b9250929050565b6000806000806000806060878903121561491b57600080fd5b86356001600160401b038082111561493257600080fd5b61493e8a838b016148b7565b9098509650602089013591508082111561495757600080fd5b6149638a838b016148b7565b9096509450604089013591508082111561497c57600080fd5b5061498989828a016148b7565b979a9699509497509295939492505050565b600081518084526020808501945080840160005b838110156149cb578151875295820195908201906001016149af565b509495945050505050565b6020815260006149e9602083018461499b565b9392505050565b600060208284031215614a0257600080fd5b5035919050565b634e487b7160e01b600052604160045260246000fd5b60405161012081016001600160401b0381118282101715614a4257614a42614a09565b60405290565b60405161010081016001600160401b0381118282101715614a4257614a42614a09565b604051601f8201601f191681016001600160401b0381118282101715614a9357614a93614a09565b604052919050565b60006001600160401b03821115614ab457614ab4614a09565b5060051b60200190565b600082601f830112614acf57600080fd5b81356020614ae4614adf83614a9b565b614a6b565b82815260059290921b84018101918181019086841115614b0357600080fd5b8286015b84811015614b27578035614b1a81614823565b8352918301918301614b07565b509695505050505050565b600082601f830112614b4357600080fd5b81356020614b53614adf83614a9b565b82815260059290921b84018101918181019086841115614b7257600080fd5b8286015b84811015614b275780358352918301918301614b76565b6000614b9b614adf84614a9b565b8381529050602080820190600585901b840186811115614bba57600080fd5b845b81811015614c4d5780356001600160401b0380821115614bdc5760008081fd5b8188019150601f8a81840112614bf25760008081fd5b823582811115614c0457614c04614a09565b614c15818301601f19168801614a6b565b92508083528b87828601011115614c2e57600091508182fd5b8087850188850137600090830187015250855250928201928201614bbc565b505050509392505050565b600082601f830112614c6957600080fd5b6149e983833560208501614b8d565b60006101208284031215614c8b57600080fd5b614c93614a1f565b905081356001600160401b0380821115614cac57600080fd5b614cb885838601614abe565b83526020840135915080821115614cce57600080fd5b614cda85838601614b32565b60208401526040840135915080821115614cf357600080fd5b614cff85838601614abe565b60408401526060840135915080821115614d1857600080fd5b614d2485838601614c58565b60608401526080840135915080821115614d3d57600080fd5b614d4985838601614b32565b608084015260a0840135915080821115614d6257600080fd5b614d6e85838601614b32565b60a084015260c0840135915080821115614d8757600080fd5b614d9385838601614b32565b60c084015260e0840135915080821115614dac57600080fd5b614db885838601614b32565b60e084015261010091508184013581811115614dd357600080fd5b614ddf86828701614b32565b8385015250505092915050565b60008060408385031215614dff57600080fd5b82356001600160401b03811115614e1557600080fd5b614e2185828601614c78565b95602094909401359450505050565b600080600060608486031215614e4557600080fd5b8335614e5081614823565b92506020840135614e6081614823565b915060408401356001600160d81b03811681146148ac57600080fd5b60008060208385031215614e8f57600080fd5b82356001600160401b03811115614ea557600080fd5b614eb1858286016148b7565b90969095509350505050565b85815260a060208201526000614ed660a083018761499b565b8281036040840152614ee8818761499b565b60608401959095525050608001529392505050565b600060208284031215614f0f57600080fd5b81356001600160401b03811115614f2557600080fd5b61462f84828501614810565b60006101008284031215614f4457600080fd5b614f4c614a48565b90508135815260208201356001600160401b0380821115614f6c57600080fd5b614f7885838601614abe565b60208401526040840135915080821115614f9157600080fd5b614f9d85838601614c58565b60408401526060840135915080821115614fb657600080fd5b614fc285838601614b32565b60608401526080840135608084015260a0840135915080821115614fe557600080fd5b614ff185838601614b32565b60a084015260c084013560c084015260e084013591508082111561501457600080fd5b5061502184828501614b32565b60e08301525092915050565b60008060006060848603121561504257600080fd5b83356001600160401b038082111561505957600080fd5b61506587838801614c78565b945060208601359350604086013591508082111561508257600080fd5b5061508f86828701614f31565b9150509250925092565b6000602082840312156150ab57600080fd5b81356149e981614823565b6000808335601e198436030181126150cd57600080fd5b8301803591506001600160401b038211156150e757600080fd5b6020019150600581901b36038213156148fb57600080fd5b60006149e9368484614b8d565b60006125b13683614c78565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b6000600182016151565761515661512e565b5060010190565b60006125b13683614f31565b808201808211156125b1576125b161512e565b6000808335601e1984360301811261519357600080fd5b8301803591506001600160401b038211156151ad57600080fd5b6020019150368190038213156148fb57600080fd5b6001600160e01b031981358181169160048510156141c15760049490940360031b84901b1690921692915050565b60008151602080840160005b838110156149cb5781516001600160a01b0316875295820195908201906001016151fc565b805160009060208084018383156149cb578151875295820195908201906001016149af565b600061526461525e615258848e6151f0565b8c615221565b8a6151f0565b88516020808b0160005b838110156152945781516001600160e01b0319168552938201939082019060010161526e565b505050506152c66152c06152ba6152b46152ae858d615221565b8b615221565b89615221565b87615221565b85615221565b9c9b505050505050505050505050565b8051808352602092830192600091908084018383156149cb5781516001600160a01b0316875295820195908201906001016151fc565b60006101208083526153208184018d6152d6565b9050602083820381850152615335828d61499b565b91508382036040850152615349828c6152d6565b84810360608601528a51808252828c0193509082019060005b818110156153885784516001600160e01b03191683529383019391830191600101615362565b5050848103608086015261539c818b61499b565b9250505082810360a08401526153b2818861499b565b905082810360c08401526153c6818761499b565b905082810360e08401526153da818661499b565b90508281036101008401526152c6818561499b565b8183823760009101908152919050565b6020808252600d908201526c4e4f5f5354524154454749455360981b604082015260600190565b818103818111156125b1576125b161512e565b805160208201516001600160e01b031980821692919060048310156154685780818460040360031b1b83161693505b505050919050565b6001600160a01b0393841681529190921660208201526001600160d81b03909116604082015260600190565b6000602082840312156154ae57600080fd5b5051919050565b60006001600160fb1b038311156154cb57600080fd5b8260051b80838637939093019392505050565b60006147076154f76154f0848a615221565b87896154b5565b84866154b5565b81835260006001600160fb1b0383111561551757600080fd5b8260051b80836020870137939093016020019392505050565b608081526000615543608083018961499b565b60208382038185015261555782898b6154fe565b9150838203604085015261556c8287896154fe565b8481036060860152855480825260008781528381209450918301915b818110156155a457845483526001948501949284019201615588565b50909b9a5050505050505050505050565b60208152600061462f6020830184866154fe565b600061462f8284866154b5565b6000602082840312156155e857600080fd5b815180151581146149e957600080fd5b85815260a06020820152600061561160a083018761499b565b6001600160a01b0395909516604083015250606081019290925260809091015292915050565b60005b8381101561565257818101518382015260200161563a565b50506000910152565b6000825161566d818460208701615637565b9190910192915050565b80820281158282048414176125b1576125b161512e565b6000602082840312156156a057600080fd5b81516149e981614823565b60208152600082518060208401526156ca816040850160208701615637565b601f01601f1916919091016040019291505056fea264697066735822122098d466d7280af626af69f2123a202bb7bd3f9e9f0099efb0f6107e82f396fa8964736f6c63430008110033"},"devdoc":{"kind":"dev","methods":{"owner()":{"details":"Returns the address of the current owner."},"renounceOwnership()":{"details":"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."},"transferOwnership(address)":{"details":"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."}},"version":1},"runtimeBytecode":{"bytecode":"0x60806040819052670de0b6b3a7640000600155600280546001600160a01b0319169055600060035562015180600b819055600c5569152d02c7e14af680000060105562005823388190039081908339810160408190526200006091620000c3565b6200006b3362000073565b5050620000ff565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60008060408385031215620000d757600080fd5b82516001600160a01b0381168114620000ef57600080fd5b6020939093015192949293505050565b615714806200010f6000396000f3fe608060405234801561001057600080fd5b50600436106101ef5760003560e01c80638da5cb5b1161010f578063c0463711116100a2578063d0d202b311610071578063d0d202b314610403578063eaf3a18814610416578063f2fde38b14610436578063fd94c6801461044957600080fd5b8063c0463711146103d5578063c1a2e32b146103de578063c671dbd9146103f1578063cfce5dd9146103fa57600080fd5b8063a8e4fb90116100de578063a8e4fb9014610393578063ad957ac3146103a6578063b03780a1146103b9578063b21f147f146103cc57600080fd5b80638da5cb5b1461035d578063944f38431461036e578063a1221c6f14610381578063a5b36a361461038a57600080fd5b8063372500ab11610187578063644900a611610156578063644900a6146103265780636732478514610339578063715018a61461034257806380609a6c1461034a57600080fd5b8063372500ab146102de578063374e8334146102e6578063408378bd146102ef5780635dbc7af41461030257600080fd5b80630e0cdd2e116101c35780630e0cdd2e14610284578063126662d3146102975780631ebe1d68146102aa57806327756afd146102bd57600080fd5b8062893452146101f4578063030e886914610224578063078e07d7146102395780630e076ac314610259575b600080fd5b600f54610207906001600160d81b031681565b6040516001600160d81b0390911681526020015b60405180910390f35b610237610232366004614838565b61045c565b005b61024c610247366004614902565b610c9d565b60405161021b91906149d6565b600e5461026c906001600160a01b031681565b6040516001600160a01b03909116815260200161021b565b6102376102923660046149f0565b610dfb565b6102376102a5366004614dec565b610e3f565b6102376102b8366004614e30565b611c1e565b6102d06102cb3660046149f0565b611d92565b60405190815260200161021b565b610237611db3565b6102d060105481565b600d5461026c906001600160a01b031681565b610315610310366004614e7c565b611e05565b60405161021b959493929190614ebd565b6102376103343660046149f0565b61204c565b6102d060035481565b610237612089565b610237610358366004614efd565b61209b565b6000546001600160a01b031661026c565b61023761037c366004614e7c565b6121c5565b6102d0600b5481565b6102d0600c5481565b60055461026c906001600160a01b031681565b6102d06103b4366004614e7c565b6122bc565b60025461026c906001600160a01b031681565b6102d060095481565b6102d060075481565b6102376103ec3660046149f0565b6125b7565b6102d060065481565b6102d060085481565b61023761041136600461502d565b6125f4565b6102d06104243660046149f0565b600a6020526000908152604090205481565b610237610444366004615099565b613bf2565b610237610457366004615099565b613c6b565b610464613cc1565b600061048461047660608601866150b6565b61047f916150ff565b613d1b565b90506008546000146104a7576104a261049c8561510c565b82613dd4565b6104f2565b6104b184806150b6565b1590506104f25760405162461bcd60e51b815260206004820152600a60248201526946495253545f4441544160b01b60448201526064015b60405180910390fd5b60005b6104ff85806150b6565b905081101561059b576001600160a01b03841661051c86806150b6565b8381811061052c5761052c615118565b90506020020160208101906105419190615099565b6001600160a01b0316036105895760405162461bcd60e51b815260206004820152600f60248201526e53545241544547595f45584953545360881b60448201526064016104e9565b8061059381615144565b9150506104f5565b506105ad6105a88361515d565b613e65565b60006105b985806150b6565b6105c591506001615169565b6001600160401b038111156105dc576105dc614a09565b604051908082528060200260200182016040528015610605578160200160208202803683370190505b50905060005b61061586806150b6565b90508110156106895761062886806150b6565b8281811061063857610638615118565b905060200201602081019061064d9190615099565b82828151811061065f5761065f615118565b6001600160a01b03909216602092830291909101909101528061068181615144565b91505061060b565b50838161069687806150b6565b9050815181106106a8576106a8615118565b6001600160a01b0390921660209283029190910182015260009061070c906106d2908801886150b6565b808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152505087359150613fe79050565b90506000843561071f60408901896150b6565b61072a929150615169565b6001600160401b0381111561074157610741614a09565b60405190808252806020026020018201604052801561076a578160200160208202803683370190505b50905060005b61077d60408901896150b6565b90508110156107f45761079360408901896150b6565b828181106107a3576107a3615118565b90506020020160208101906107b89190615099565b8282815181106107ca576107ca615118565b6001600160a01b0390921660209283029190910190910152806107ec81615144565b915050610770565b5060005b85358110156108865761080e60208701876150b6565b8281811061081e5761081e615118565b90506020020160208101906108339190615099565b8261084160408b018b6150b6565b61084c915084615169565b8151811061085c5761085c615118565b6001600160a01b03909216602092830291909101909101528061087e81615144565b9150506107f8565b50843561089660608901896150b6565b6108a1929150615169565b6001600160401b038111156108b8576108b8614a09565b6040519080825280602002602001820160405280156108e1578160200160208202803683370190505b50935060005b6108f460608901896150b6565b90508110156109725761090a60608901896150b6565b8281811061091a5761091a615118565b905060200281019061092c919061517c565b610935916151c2565b85828151811061094757610947615118565b6001600160e01b0319909216602092830291909101909101528061096a81615144565b9150506108e7565b5060005b8535811015610a0b5761098c60408701876150b6565b8281811061099c5761099c615118565b90506020028101906109ae919061517c565b6109b7916151c2565b856109c560608b018b6150b6565b6109d0915084615169565b815181106109e0576109e0615118565b6001600160e01b03199092166020928302919091019091015280610a0381615144565b915050610976565b506000610a94610a1e60808a018a6150b6565b80806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250610a5d9250505060608901896150b6565b808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152506140b692505050565b90506000610ae3610aa860a08b018b6150b6565b808060200260200160405190810160405280939291908181526020018383602002808284376000920191909152505050506080890135613fe7565b90506000610b36610af760c08c018c6150b6565b80806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250610a5d9250505060a08b018b6150b6565b90506000610b85610b4a60e08d018d6150b6565b8080602002602001604051908101604052809392919081815260200183836020028082843760009201919091525050505060c08b0135613fe7565b90506000610bd9610b9a6101008e018e6150b6565b80806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250610a5d9250505060e08d018d6150b6565b90508787878b8888888888604051602001610bfc99989796959493929190615246565b60408051601f198184030181529082905280516020909101206008556004805460018101825560009182527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b01557f8e53c9a718e34c6a61b1c74a1c66c621f44ef9e718867f22079ac7a600042ee190610c87908a908a908a908e908b908b908b908b908b9061530c565b60405180910390a1505050505050505050505050565b60606000866001600160401b03811115610cb957610cb9614a09565b604051908082528060200260200182016040528015610ce2578160200160208202803683370190505b50905060005b87811015610def576000898983818110610d0457610d04615118565b9050602002016020810190610d199190615099565b6001600160a01b0316888884818110610d3457610d34615118565b9050602002810190610d46919061517c565b604051610d549291906153ef565b6000604051808303816000865af19150503d8060008114610d91576040519150601f19603f3d011682016040523d82523d6000602084013e610d96565b606091505b50915050610dbc81878785818110610db057610db0615118565b905060200201356141c9565b60001c838381518110610dd157610dd1615118565b60209081029190910101525080610de781615144565b915050610ce8565b50979650505050505050565b610e03613cc1565b60038190556040518181527ff1ec1146b34ac057e939c68e0d1b14850406891906b28277b3bb7021740a9c4a906020015b60405180910390a150565b610e47613cc1565b600854600003610e695760405162461bcd60e51b81526004016104e9906153ff565b6000610e788360600151613d1b565b9050610e848382613dd4565b8251518210610e9257600080fd5b60006001846020015151610ea69190615426565b6001600160401b03811115610ebd57610ebd614a09565b604051908082528060200260200182016040528015610ee6578160200160208202803683370190505b509050600060018560a0015151610efd9190615426565b6001600160401b03811115610f1457610f14614a09565b604051908082528060200260200182016040528015610f3d578160200160208202803683370190505b509050600060018660e0015151610f549190615426565b6001600160401b03811115610f6b57610f6b614a09565b604051908082528060200260200182016040528015610f94578160200160208202803683370190505b509050600086602001518681518110610faf57610faf615118565b6020026020010151876040015151610fc79190615426565b6001600160401b03811115610fde57610fde614a09565b604051908082528060200260200182016040528015611007578160200160208202803683370190505b5090508660200151868151811061102057611020615118565b60200260200101518760600151516110389190615426565b6001600160401b0381111561104f5761104f614a09565b604051908082528060200260200182016040528015611078578160200160208202803683370190505b50945060008760200151878151811061109357611093615118565b60200260200101518860800151516110ab9190615426565b6001600160401b038111156110c2576110c2614a09565b6040519080825280602002602001820160405280156110eb578160200160208202803683370190505b50905060008860a00151888151811061110657611106615118565b60200260200101518960c001515161111e9190615426565b6001600160401b0381111561113557611135614a09565b60405190808252806020026020018201604052801561115e578160200160208202803683370190505b50905060008960e00151898151811061117957611179615118565b60200260200101518a6101000151516111929190615426565b6001600160401b038111156111a9576111a9614a09565b6040519080825280602002602001820160405280156111d2578160200160208202803683370190505b5090508860005b8181101561122e578b6020015181815181106111f7576111f7615118565b602002602001015189828151811061121157611211615118565b60209081029190910101528061122681615144565b9150506111d9565b5060005b61123d826001615169565b8c515161124a9190615426565b8110156112be5760208c015181611262846001615169565b61126c9190615169565b8151811061127c5761127c615118565b60200260200101518982846112919190615169565b815181106112a1576112a1615118565b6020908102919091010152806112b681615144565b915050611232565b5060005b81811015611317578b60a0015181815181106112e0576112e0615118565b60200260200101518882815181106112fa576112fa615118565b60209081029190910101528061130f81615144565b9150506112c2565b5060005b611326826001615169565b8c51516113339190615426565b8110156113a75760a08c01518161134b846001615169565b6113559190615169565b8151811061136557611365615118565b602002602001015188828461137a9190615169565b8151811061138a5761138a615118565b60209081029190910101528061139f81615144565b91505061131b565b5060005b81811015611400578b60e0015181815181106113c9576113c9615118565b60200260200101518782815181106113e3576113e3615118565b6020908102919091010152806113f881615144565b9150506113ab565b5060005b61140f826001615169565b8c515161141c9190615426565b8110156114905760e08c015181611434846001615169565b61143e9190615169565b8151811061144e5761144e615118565b60200260200101518782846114639190615169565b8151811061147357611473615118565b60209081029190910101528061148881615144565b915050611404565b50600080915060005b8c51518110156114eb578b81036114ae578192505b8c6020015181815181106114c4576114c4615118565b6020026020010151826114d79190615169565b9150806114e381615144565b915050611499565b5060005b82811015611551578c60400151818151811061150d5761150d615118565b602002602001015187828151811061152757611527615118565b6001600160a01b03909216602092830291909101909101528061154981615144565b9150506114ef565b5060005b8c602001518c8151811061156b5761156b615118565b60200260200101518361157e9190615169565b6115889083615426565b811015611627578c60400151818e602001518e815181106115ab576115ab615118565b6020026020010151856115be9190615169565b6115c89190615169565b815181106115d8576115d8615118565b60200260200101518784836115ed9190615169565b815181106115fd576115fd615118565b6001600160a01b03909216602092830291909101909101528061161f81615144565b915050611555565b5060005b82811015611697578c60600151818151811061164957611649615118565b602002602001015161165a90615439565b8b828151811061166c5761166c615118565b6001600160e01b0319909216602092830291909101909101528061168f81615144565b91505061162b565b5060005b8c602001518c815181106116b1576116b1615118565b6020026020010151836116c49190615169565b6116ce9083615426565b811015611775578c60600151818e602001518e815181106116f1576116f1615118565b6020026020010151856117049190615169565b61170e9190615169565b8151811061171e5761171e615118565b602002602001015161172f90615439565b8b61173a8584615169565b8151811061174a5761174a615118565b6001600160e01b0319909216602092830291909101909101528061176d81615144565b91505061169b565b5060005b828110156117ce578c60800151818151811061179757611797615118565b60200260200101518682815181106117b1576117b1615118565b6020908102919091010152806117c681615144565b915050611779565b5060005b8c602001518c815181106117e8576117e8615118565b6020026020010151836117fb9190615169565b6118059083615426565b811015611897578c60800151818e602001518e8151811061182857611828615118565b60200260200101518561183b9190615169565b6118459190615169565b8151811061185557611855615118565b602002602001015186848361186a9190615169565b8151811061187a5761187a615118565b60209081029190910101528061188f81615144565b9150506117d2565b50600090506000915060005b8c51518110156118f5578b81036118b8578192505b8c60a0015181815181106118ce576118ce615118565b6020026020010151826118e19190615169565b9150806118ed81615144565b9150506118a3565b5060005b8281101561194e578c60c00151818151811061191757611917615118565b602002602001015185828151811061193157611931615118565b60209081029190910101528061194681615144565b9150506118f9565b5060005b8c60a001518c8151811061196857611968615118565b60200260200101518361197b9190615169565b6119859083615426565b811015611a17578c60c00151818e60a001518e815181106119a8576119a8615118565b6020026020010151856119bb9190615169565b6119c59190615169565b815181106119d5576119d5615118565b60200260200101518584836119ea9190615169565b815181106119fa576119fa615118565b602090810291909101015280611a0f81615144565b915050611952565b50600090506000915060005b8c5151811015611a75578b8103611a38578192505b8c60e001518181518110611a4e57611a4e615118565b602002602001015182611a619190615169565b915080611a6d81615144565b915050611a23565b5060005b82811015611acf578c61010001518181518110611a9857611a98615118565b6020026020010151848281518110611ab257611ab2615118565b602090810291909101015280611ac781615144565b915050611a79565b5060005b8c60e001518c81518110611ae957611ae9615118565b602002602001015183611afc9190615169565b611b069083615426565b811015611b99578c6101000151818e60e001518e81518110611b2a57611b2a615118565b602002602001015185611b3d9190615169565b611b479190615169565b81518110611b5757611b57615118565b6020026020010151848483611b6c9190615169565b81518110611b7c57611b7c615118565b602090810291909101015280611b9181615144565b915050611ad3565b508b51604051611bbc91908b9089908e908a908e908b908f908c90602001615246565b6040516020818303038152906040528051906020012060001c6008819055507f30bb8971424ac048a04b1a560b5d691478a0bab916cf71a19c08b2c69ab32f2d8c600001518a888d898d8a8e8b604051610c879998979695949392919061530c565b611c26613cc1565b604051630502c30760e51b81526000906001600160a01b0384169063a05860e090611c5990879030908790600401615470565b602060405180830381865afa158015611c76573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611c9a919061549c565b604051636bc1609560e01b8152600481018290529091506000906001600160a01b03851690636bc1609590602401602060405180830381865afa158015611ce5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611d09919061549c565b11611d3f5760405162461bcd60e51b815260206004820152600660248201526553545245414d60d01b60448201526064016104e9565b50600d80546001600160a01b03199081166001600160a01b0395861617909155600e80549091169290931691909117909155600f80546001600160d81b0319166001600160d81b03909216919091179055565b60048181548110611da257600080fd5b600091825260209091200154905081565b6005546001600160a01b03163314611dfb5760405162461bcd60e51b815260206004820152600b60248201526a1393d517d0531313d5d15160aa1b60448201526064016104e9565b611e0361422e565b565b6000606080600080608087876000818110611e2257611e22615118565b90506020020135901b945086866001818110611e4057611e40615118565b9050602002013585611e529190615169565b945086866002818110611e6757611e67615118565b905060200201356001600160401b03811115611e8557611e85614a09565b604051908082528060200260200182016040528015611eae578160200160208202803683370190505b50935086866002818110611ec457611ec4615118565b905060200201356001600160401b03811115611ee257611ee2614a09565b604051908082528060200260200182016040528015611f0b578160200160208202803683370190505b50925060005b87876002818110611f2457611f24615118565b90506020020135811015611feb578787611f3f836003615169565b818110611f4e57611f4e615118565b90506020020135858281518110611f6757611f67615118565b602002602001018181525050878789896002818110611f8857611f88615118565b90506020020135836004611f9c9190615169565b611fa69190615169565b818110611fb557611fb5615118565b90506020020135848281518110611fce57611fce615118565b602090810291909101015280611fe381615144565b915050611f11565b508484848989611ffc600282615426565b81811061200b5761200b615118565b602002919091013590508a8a612022600182615426565b81811061203157612031615118565b90506020020135945094509450945094509295509295909350565b612054613cc1565b600b8190556040518181527fb661c316bad6aba02e92ad9084ba0146824efd8c122d24f668d4c6845cd0b80c90602001610e34565b612091613cc1565b611e0360006144a7565b6008546000036120bd5760405162461bcd60e51b81526004016104e9906153ff565b60006120cf61047660608401846150b6565b90506120dd61049c8361510c565b60006121096120ef60408501856150b6565b6120fc60608701876150b6565b61024760808901896150b6565b90508061211960c08501856150b6565b6121276101008701876150b6565b60405160200161213b9594939291906154de565b60408051601f19818403018152918152815160209283012060098190556000908152600a90925290204290557f316d5bca887648a73e73b926bab4c3ce4607be522c563cae9ba58f917b319f868161219660c08601866150b6565b6121a46101008801886150b6565b60046040516121b896959493929190615530565b60405180910390a1505050565b6121cd613cc1565b6008546000036121ef5760405162461bcd60e51b81526004016104e9906153ff565b60045481146122295760405162461bcd60e51b81526020600482015260066024820152650988a9c8ea8960d31b60448201526064016104e9565b60005b8181101561227e5782828281811061224657612246615118565b905060200201356004828154811061226057612260615118565b6000918252602090912001558061227681615144565b91505061222c565b507fb0f3a2c8912b49e525985f502184ccbfd45b28a1fe72ceab84bbdc8deab16e9e82826040516122b09291906155b5565b60405180910390a15050565b6009546000818152600a6020526040812054600b5491929142906122e09083615169565b1161231e5760405162461bcd60e51b815260206004820152600e60248201526d14d510531157d4d3905414d213d560921b60448201526064016104e9565b60008060008060006123308a8a611e05565b945094509450945094508685146123725760405162461bcd60e51b81526004016104e99060208082526004908201526309082a6960e31b604082015260600190565b835160045414801561238657508251600454145b6123d25760405162461bcd60e51b815260206004820152601860248201527f5441524745545f414c4c4f434154494f4e5f4c454e475448000000000000000060448201526064016104e9565b81601054826123e19190615426565b10156124195760405162461bcd60e51b81526020600482015260076024820152661513d3d7d0905160ca1b60448201526064016104e9565b60008a8a60405160200161242e9291906155c9565b604051602081830303815290604052805190602001209050600060035482604051602001612466929190918252602082015260400190565b60408051808303601f19018152908290528051602090910120600254636a93856760e01b8352600483018290529092506001600160a01b031690636a93856790602401602060405180830381865afa1580156124c6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906124ea91906155d6565b6125265760405162461bcd60e51b815260206004820152600d60248201526c26a4a9a9a4a723afa82927a7a360991b60448201526064016104e9565b84516125399060049060208801906147b0565b504260075561254661422e565b600580546001600160a01b031916331790556125628484615426565b60068190556040517fd5fcaa64c9cd5e658564ea2213a28b82e520ca0b84641401e702c3f6495be2ec9161259e918691899133919042906155f8565b60405180910390a1985050505050505050505b92915050565b6125bf613cc1565b600c8190556040518181527f6c5816d6599cc31297ca644605cb3d6d8adb2c4bf581eaa2b0827880a5e3b52790602001610e34565b6125fc613cc1565b60085460000361261e5760405162461bcd60e51b81526004016104e9906153ff565b600061262d8460600151613d1b565b90506126398482613dd4565b835151831061267f5760405162461bcd60e51b8152602060048201526012602482015271494e4445585f4f55545f4f465f52414e474560701b60448201526064016104e9565b61268882613e65565b60008460200151516001600160401b038111156126a7576126a7614a09565b6040519080825280602002602001820160405280156126d0578160200160208202803683370190505b50905060008560a00151516001600160401b038111156126f2576126f2614a09565b60405190808252806020026020018201604052801561271b578160200160208202803683370190505b50905060008660e00151516001600160401b0381111561273d5761273d614a09565b604051908082528060200260200182016040528015612766578160200160208202803683370190505b509050600085600001518860200151888151811061278657612786615118565b602002602001015189604001515161279e9190615426565b6127a89190615169565b6001600160401b038111156127bf576127bf614a09565b6040519080825280602002602001820160405280156127e8578160200160208202803683370190505b50905085600001518860200151888151811061280657612806615118565b602002602001015189606001515161281e9190615426565b6128289190615169565b6001600160401b0381111561283f5761283f614a09565b604051908082528060200260200182016040528015612868578160200160208202803683370190505b509450600086600001518960200151898151811061288857612888615118565b60200260200101518a60800151516128a09190615426565b6128aa9190615169565b6001600160401b038111156128c1576128c1614a09565b6040519080825280602002602001820160405280156128ea578160200160208202803683370190505b509050600087608001518a60a001518a8151811061290a5761290a615118565b60200260200101518b60c00151516129229190615426565b61292c9190615169565b6001600160401b0381111561294357612943614a09565b60405190808252806020026020018201604052801561296c578160200160208202803683370190505b50905060008860c001518b60e001518b8151811061298c5761298c615118565b60200260200101518c6101000151516129a59190615426565b6129af9190615169565b6001600160401b038111156129c6576129c6614a09565b6040519080825280602002602001820160405280156129ef578160200160208202803683370190505b508b51519091508a90612a0490600190615426565b8b0361306a5760005b81811015612a62578c602001518181518110612a2b57612a2b615118565b6020026020010151898281518110612a4557612a45615118565b602090810291909101015280612a5a81615144565b915050612a0d565b508960000151888281518110612a7a57612a7a615118565b60200260200101818152505060005b81811015612ade578c60a001518181518110612aa757612aa7615118565b6020026020010151888281518110612ac157612ac1615118565b602090810291909101015280612ad681615144565b915050612a89565b508960800151878281518110612af657612af6615118565b60200260200101818152505060005b81811015612b5a578c60e001518181518110612b2357612b23615118565b6020026020010151878281518110612b3d57612b3d615118565b602090810291909101015280612b5281615144565b915050612b05565b508960c00151868281518110612b7257612b72615118565b6020908102919091010152506000805b8b811015612bc7578c602001518181518110612ba057612ba0615118565b602002602001015182612bb39190615169565b915080612bbf81615144565b915050612b82565b5060005b81811015612c2d578c604001518181518110612be957612be9615118565b6020026020010151868281518110612c0357612c03615118565b6001600160a01b039092166020928302919091019091015280612c2581615144565b915050612bcb565b5060005b8a51811015612c9f578a602001518181518110612c5057612c50615118565b6020026020010151868383612c659190615169565b81518110612c7557612c75615118565b6001600160a01b039092166020928302919091019091015280612c9781615144565b915050612c31565b5060005b81811015612d0f578c606001518181518110612cc157612cc1615118565b6020026020010151612cd290615439565b8a8281518110612ce457612ce4615118565b6001600160e01b03199092166020928302919091019091015280612d0781615144565b915050612ca3565b5060005b8a51811015612d89578a604001518181518110612d3257612d32615118565b6020026020010151612d4390615439565b8a612d4e8484615169565b81518110612d5e57612d5e615118565b6001600160e01b03199092166020928302919091019091015280612d8181615144565b915050612d13565b5060005b81811015612de2578c608001518181518110612dab57612dab615118565b6020026020010151858281518110612dc557612dc5615118565b602090810291909101015280612dda81615144565b915050612d8d565b5060005b8a51811015612e47578a606001518181518110612e0557612e05615118565b6020026020010151858383612e1a9190615169565b81518110612e2a57612e2a615118565b602090810291909101015280612e3f81615144565b915050612de6565b506000905060005b8b811015612e94578c60a001518181518110612e6d57612e6d615118565b602002602001015182612e809190615169565b915080612e8c81615144565b915050612e4f565b5060005b81811015612eed578c60c001518181518110612eb657612eb6615118565b6020026020010151848281518110612ed057612ed0615118565b602090810291909101015280612ee581615144565b915050612e98565b5060005b8a60800151811015612f55578a60a001518181518110612f1357612f13615118565b6020026020010151848383612f289190615169565b81518110612f3857612f38615118565b602090810291909101015280612f4d81615144565b915050612ef1565b506000905060005b8b811015612fa2578c60e001518181518110612f7b57612f7b615118565b602002602001015182612f8e9190615169565b915080612f9a81615144565b915050612f5d565b5060005b81811015612ffc578c61010001518181518110612fc557612fc5615118565b6020026020010151838281518110612fdf57612fdf615118565b602090810291909101015280612ff481615144565b915050612fa6565b5060005b8a60c00151811015613064578a60e00151818151811061302257613022615118565b60200260200101518383836130379190615169565b8151811061304757613047615118565b60209081029190910101528061305c81615144565b915050613000565b50613b76565b60005b818110156130c2578c60200151818151811061308b5761308b615118565b60200260200101518982815181106130a5576130a5615118565b6020908102919091010152806130ba81615144565b91505061306d565b5089600001518882815181106130da576130da615118565b602090810291909101015260006130f2826001615169565b90505b8c602001515181101561314f578c60200151818151811061311857613118615118565b602002602001015189828151811061313257613132615118565b60209081029190910101528061314781615144565b9150506130f5565b5060005b818110156131a8578c60a00151818151811061317157613171615118565b602002602001015188828151811061318b5761318b615118565b6020908102919091010152806131a081615144565b915050613153565b5089608001518782815181106131c0576131c0615118565b602090810291909101015260006131d8826001615169565b90505b8c60a0015151811015613235578c60a0015181815181106131fe576131fe615118565b602002602001015188828151811061321857613218615118565b60209081029190910101528061322d81615144565b9150506131db565b5060005b8181101561328e578c60e00151818151811061325757613257615118565b602002602001015187828151811061327157613271615118565b60209081029190910101528061328681615144565b915050613239565b508960c001518682815181106132a6576132a6615118565b602090810291909101015260006132be826001615169565b90505b8c60e001515181101561331b578c60e0015181815181106132e4576132e4615118565b60200260200101518782815181106132fe576132fe615118565b60209081029190910101528061331381615144565b9150506132c1565b50600080915060005b8d5151811015613376578c8103613339578192505b8d60200151818151811061334f5761334f615118565b6020026020010151826133629190615169565b91508061336e81615144565b915050613324565b5060008d602001518d8151811061338f5761338f615118565b6020026020010151836133a29190615169565b905060005b83811015613409578e6040015181815181106133c5576133c5615118565b60200260200101518882815181106133df576133df615118565b6001600160a01b03909216602092830291909101909101528061340181615144565b9150506133a7565b5060005b8c5181101561347b578c60200151818151811061342c5761342c615118565b60200260200101518885836134419190615169565b8151811061345157613451615118565b6001600160a01b03909216602092830291909101909101528061347381615144565b91505061340d565b5060005b6134898284615426565b81101561350d5760408f015161349f8284615169565b815181106134af576134af615118565b6020026020010151888e6000015186846134c99190615169565b6134d39190615169565b815181106134e3576134e3615118565b6001600160a01b03909216602092830291909101909101528061350581615144565b91505061347f565b5060005b8381101561357d578e60600151818151811061352f5761352f615118565b602002602001015161354090615439565b8c828151811061355257613552615118565b6001600160e01b0319909216602092830291909101909101528061357581615144565b915050613511565b5060005b8c518110156135f7578c6040015181815181106135a0576135a0615118565b60200260200101516135b190615439565b8c6135bc8684615169565b815181106135cc576135cc615118565b6001600160e01b031990921660209283029190910190910152806135ef81615144565b915050613581565b5060005b6136058284615426565b81101561368f5760608f015161361b8284615169565b8151811061362b5761362b615118565b602002602001015161363c90615439565b8d518d9061364a8785615169565b6136549190615169565b8151811061366457613664615118565b6001600160e01b0319909216602092830291909101909101528061368781615144565b9150506135fb565b5060005b838110156136e8578e6080015181815181106136b1576136b1615118565b60200260200101518782815181106136cb576136cb615118565b6020908102919091010152806136e081615144565b915050613693565b5060005b8c5181101561374d578c60600151818151811061370b5761370b615118565b60200260200101518785836137209190615169565b8151811061373057613730615118565b60209081029190910101528061374581615144565b9150506136ec565b5060005b61375b8284615426565b8110156137d25760808f01516137718284615169565b8151811061378157613781615118565b6020026020010151878e60000151868461379b9190615169565b6137a59190615169565b815181106137b5576137b5615118565b6020908102919091010152806137ca81615144565b915050613751565b50600091506000925060005b8e5151811015613830578d81036137f3578293505b8e60a00151818151811061380957613809615118565b60200260200101518361381c9190615169565b92508061382881615144565b9150506137de565b508d60a001518d8151811061384757613847615118565b60200260200101518361385a9190615169565b905060005b838110156138b4578e60c00151818151811061387d5761387d615118565b602002602001015186828151811061389757613897615118565b6020908102919091010152806138ac81615144565b91505061385f565b5060005b8c6080015181101561391c578c60a0015181815181106138da576138da615118565b60200260200101518685836138ef9190615169565b815181106138ff576138ff615118565b60209081029190910101528061391481615144565b9150506138b8565b5060005b61392a8284615426565b8110156139a15760c08f01516139408284615169565b8151811061395057613950615118565b6020026020010151868e60800151868461396a9190615169565b6139749190615169565b8151811061398457613984615118565b60209081029190910101528061399981615144565b915050613920565b50600091506000925060005b8e51518110156139ff578d81036139c2578293505b8e60e0015181815181106139d8576139d8615118565b6020026020010151836139eb9190615169565b9250806139f781615144565b9150506139ad565b508d60e001518d81518110613a1657613a16615118565b602002602001015183613a299190615169565b905060005b83811015613a84578e61010001518181518110613a4d57613a4d615118565b6020026020010151858281518110613a6757613a67615118565b602090810291909101015280613a7c81615144565b915050613a2e565b5060005b8c60c00151811015613aec578c60e001518181518110613aaa57613aaa615118565b6020026020010151858583613abf9190615169565b81518110613acf57613acf615118565b602090810291909101015280613ae481615144565b915050613a88565b5060005b613afa8284615426565b811015613b72576101008f0151613b118284615169565b81518110613b2157613b21615118565b6020026020010151858e60c001518684613b3b9190615169565b613b459190615169565b81518110613b5557613b55615118565b602090810291909101015280613b6a81615144565b915050613af0565b5050505b8b51604051613b9891908a9088908d9089908d908a908e908b90602001615246565b60408051601f198184030181529082905280516020909101206008558c517fdf3782d38af4ae54183a27faea5e61e7d27832f0f7df356a318c7fb9be2b553d91610c8791908b9089908e908a908e908b908f908c9061530c565b613bfa613cc1565b6001600160a01b038116613c5f5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016104e9565b613c68816144a7565b50565b613c73613cc1565b600280546001600160a01b0319166001600160a01b0383169081179091556040519081527f65c06354eb3fcefa304d7f9e42b42755fb21798520591cfbd099ef50d24f0dcd90602001610e34565b6000546001600160a01b03163314611e035760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016104e9565b606081516001600160401b03811115613d3657613d36614a09565b604051908082528060200260200182016040528015613d5f578160200160208202803683370190505b50905060005b8251811015613dce57828181518110613d8057613d80615118565b6020026020010151613d9190615439565b828281518110613da357613da3615118565b6001600160e01b03199092166020928302919091019091015280613dc681615144565b915050613d65565b50919050565b8151602080840151604080860151608087015160a088015160c089015160e08a01516101008b01519551613e0f999895968b96909101615246565b6040516020818303038152906040528051906020012060001c60085414613e615760405162461bcd60e51b81526004016104e9906020808252600490820152634441544160e01b604082015260600190565b5050565b6020810151518151148015613e7f57506040810151518151145b8015613e9057506060810151518151145b8015613ea457508060a00151518160800151145b8015613eb857508060e00151518160c00151145b613ef05760405162461bcd60e51b815260206004820152600960248201526820a92920acafa622a760b91b60448201526064016104e9565b60005b8151811015613e6157600082602001518281518110613f1457613f14615118565b60200260200101516001600160a01b031683604001518381518110613f3b57613f3b615118565b6020026020010151604051613f50919061565b565b6000604051808303816000865af19150503d8060008114613f8d576040519150601f19603f3d011682016040523d82523d6000602084013e613f92565b606091505b5090915050600181151514613fd45760405162461bcd60e51b815260206004820152600860248201526743414c4c4441544160c01b60448201526064016104e9565b5080613fdf81615144565b915050613ef3565b606082516001613ff79190615169565b6001600160401b0381111561400e5761400e614a09565b604051908082528060200260200182016040528015614037578160200160208202803683370190505b50905060005b835181101561408f5783818151811061405857614058615118565b602002602001015182828151811061407257614072615118565b60209081029190910101528061408781615144565b91505061403d565b5081818451815181106140a4576140a4615118565b60200260200101818152505092915050565b6060815183516140c69190615169565b6001600160401b038111156140dd576140dd614a09565b604051908082528060200260200182016040528015614106578160200160208202803683370190505b50905060005b835181101561415e5783818151811061412757614127615118565b602002602001015182828151811061414157614141615118565b60209081029190910101528061415681615144565b91505061410c565b50825160005b83518110156141c15783818151811061417f5761417f615118565b60200260200101518383836141949190615169565b815181106141a4576141a4615118565b6020908102919091010152806141b981615144565b915050614164565b505092915050565b60008060005b6020811015614226576141e3816008615677565b856141ee8387615169565b815181106141fe576141fe615118565b01602001516001600160f81b031916901c91909117908061421e81615144565b9150506141cf565b509392505050565b600e546001600160a01b0316806142425750565b600d54600f54604051630502c30760e51b81526000926001600160a01b038086169363a05860e093614286939092169130916001600160d81b031690600401615470565b602060405180830381865afa1580156142a3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906142c7919061549c565b604051636bc1609560e01b8152600481018290529091506001600160a01b03831690636bc1609590602401602060405180830381865afa15801561430f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190614333919061549c565b60000361433e575050565b6000826001600160a01b031663fc0c546a6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561437e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906143a2919061568e565b600d54600f546040516305e959b960e21b81529293506001600160a01b03808716936317a566e4936143e79392169130916001600160d81b0390911690600401615470565b600060405180830381600087803b15801561440157600080fd5b505af1158015614415573d6000803e3d6000fd5b50506040516370a0823160e01b8152306004820152600092506001600160a01b03841691506370a0823190602401602060405180830381865afa158015614460573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190614484919061549c565b6005549091506144a1906001600160a01b038481169116836144f7565b50505050565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180516001600160e01b031663a9059cbb60e01b17905261454990849061454e565b505050565b60006145a3826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b03166146209092919063ffffffff16565b80519091501561454957808060200190518101906145c191906155d6565b6145495760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e6044820152691bdd081cdd58d8d9595960b21b60648201526084016104e9565b606061462f8484600085614637565b949350505050565b6060824710156146985760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f6044820152651c8818d85b1b60d21b60648201526084016104e9565b600080866001600160a01b031685876040516146b4919061565b565b60006040518083038185875af1925050503d80600081146146f1576040519150601f19603f3d011682016040523d82523d6000602084013e6146f6565b606091505b509150915061470787838387614712565b979650505050505050565b6060831561478157825160000361477a576001600160a01b0385163b61477a5760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060448201526064016104e9565b508161462f565b61462f83838151156147965781518083602001fd5b8060405162461bcd60e51b81526004016104e991906156ab565b8280548282559060005260206000209081019282156147eb579160200282015b828111156147eb5782518255916020019190600101906147d0565b506147f79291506147fb565b5090565b5b808211156147f757600081556001016147fc565b60006101208284031215613dce57600080fd5b6001600160a01b0381168114613c6857600080fd5b60008060006060848603121561484d57600080fd5b83356001600160401b038082111561486457600080fd5b61487087838801614810565b94506020860135915061488282614823565b9092506040850135908082111561489857600080fd5b50840161010081870312156148ac57600080fd5b809150509250925092565b60008083601f8401126148c957600080fd5b5081356001600160401b038111156148e057600080fd5b6020830191508360208260051b85010111156148fb57600080fd5b9250929050565b6000806000806000806060878903121561491b57600080fd5b86356001600160401b038082111561493257600080fd5b61493e8a838b016148b7565b9098509650602089013591508082111561495757600080fd5b6149638a838b016148b7565b9096509450604089013591508082111561497c57600080fd5b5061498989828a016148b7565b979a9699509497509295939492505050565b600081518084526020808501945080840160005b838110156149cb578151875295820195908201906001016149af565b509495945050505050565b6020815260006149e9602083018461499b565b9392505050565b600060208284031215614a0257600080fd5b5035919050565b634e487b7160e01b600052604160045260246000fd5b60405161012081016001600160401b0381118282101715614a4257614a42614a09565b60405290565b60405161010081016001600160401b0381118282101715614a4257614a42614a09565b604051601f8201601f191681016001600160401b0381118282101715614a9357614a93614a09565b604052919050565b60006001600160401b03821115614ab457614ab4614a09565b5060051b60200190565b600082601f830112614acf57600080fd5b81356020614ae4614adf83614a9b565b614a6b565b82815260059290921b84018101918181019086841115614b0357600080fd5b8286015b84811015614b27578035614b1a81614823565b8352918301918301614b07565b509695505050505050565b600082601f830112614b4357600080fd5b81356020614b53614adf83614a9b565b82815260059290921b84018101918181019086841115614b7257600080fd5b8286015b84811015614b275780358352918301918301614b76565b6000614b9b614adf84614a9b565b8381529050602080820190600585901b840186811115614bba57600080fd5b845b81811015614c4d5780356001600160401b0380821115614bdc5760008081fd5b8188019150601f8a81840112614bf25760008081fd5b823582811115614c0457614c04614a09565b614c15818301601f19168801614a6b565b92508083528b87828601011115614c2e57600091508182fd5b8087850188850137600090830187015250855250928201928201614bbc565b505050509392505050565b600082601f830112614c6957600080fd5b6149e983833560208501614b8d565b60006101208284031215614c8b57600080fd5b614c93614a1f565b905081356001600160401b0380821115614cac57600080fd5b614cb885838601614abe565b83526020840135915080821115614cce57600080fd5b614cda85838601614b32565b60208401526040840135915080821115614cf357600080fd5b614cff85838601614abe565b60408401526060840135915080821115614d1857600080fd5b614d2485838601614c58565b60608401526080840135915080821115614d3d57600080fd5b614d4985838601614b32565b608084015260a0840135915080821115614d6257600080fd5b614d6e85838601614b32565b60a084015260c0840135915080821115614d8757600080fd5b614d9385838601614b32565b60c084015260e0840135915080821115614dac57600080fd5b614db885838601614b32565b60e084015261010091508184013581811115614dd357600080fd5b614ddf86828701614b32565b8385015250505092915050565b60008060408385031215614dff57600080fd5b82356001600160401b03811115614e1557600080fd5b614e2185828601614c78565b95602094909401359450505050565b600080600060608486031215614e4557600080fd5b8335614e5081614823565b92506020840135614e6081614823565b915060408401356001600160d81b03811681146148ac57600080fd5b60008060208385031215614e8f57600080fd5b82356001600160401b03811115614ea557600080fd5b614eb1858286016148b7565b90969095509350505050565b85815260a060208201526000614ed660a083018761499b565b8281036040840152614ee8818761499b565b60608401959095525050608001529392505050565b600060208284031215614f0f57600080fd5b81356001600160401b03811115614f2557600080fd5b61462f84828501614810565b60006101008284031215614f4457600080fd5b614f4c614a48565b90508135815260208201356001600160401b0380821115614f6c57600080fd5b614f7885838601614abe565b60208401526040840135915080821115614f9157600080fd5b614f9d85838601614c58565b60408401526060840135915080821115614fb657600080fd5b614fc285838601614b32565b60608401526080840135608084015260a0840135915080821115614fe557600080fd5b614ff185838601614b32565b60a084015260c084013560c084015260e084013591508082111561501457600080fd5b5061502184828501614b32565b60e08301525092915050565b60008060006060848603121561504257600080fd5b83356001600160401b038082111561505957600080fd5b61506587838801614c78565b945060208601359350604086013591508082111561508257600080fd5b5061508f86828701614f31565b9150509250925092565b6000602082840312156150ab57600080fd5b81356149e981614823565b6000808335601e198436030181126150cd57600080fd5b8301803591506001600160401b038211156150e757600080fd5b6020019150600581901b36038213156148fb57600080fd5b60006149e9368484614b8d565b60006125b13683614c78565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b6000600182016151565761515661512e565b5060010190565b60006125b13683614f31565b808201808211156125b1576125b161512e565b6000808335601e1984360301811261519357600080fd5b8301803591506001600160401b038211156151ad57600080fd5b6020019150368190038213156148fb57600080fd5b6001600160e01b031981358181169160048510156141c15760049490940360031b84901b1690921692915050565b60008151602080840160005b838110156149cb5781516001600160a01b0316875295820195908201906001016151fc565b805160009060208084018383156149cb578151875295820195908201906001016149af565b600061526461525e615258848e6151f0565b8c615221565b8a6151f0565b88516020808b0160005b838110156152945781516001600160e01b0319168552938201939082019060010161526e565b505050506152c66152c06152ba6152b46152ae858d615221565b8b615221565b89615221565b87615221565b85615221565b9c9b505050505050505050505050565b8051808352602092830192600091908084018383156149cb5781516001600160a01b0316875295820195908201906001016151fc565b60006101208083526153208184018d6152d6565b9050602083820381850152615335828d61499b565b91508382036040850152615349828c6152d6565b84810360608601528a51808252828c0193509082019060005b818110156153885784516001600160e01b03191683529383019391830191600101615362565b5050848103608086015261539c818b61499b565b9250505082810360a08401526153b2818861499b565b905082810360c08401526153c6818761499b565b905082810360e08401526153da818661499b565b90508281036101008401526152c6818561499b565b8183823760009101908152919050565b6020808252600d908201526c4e4f5f5354524154454749455360981b604082015260600190565b818103818111156125b1576125b161512e565b805160208201516001600160e01b031980821692919060048310156154685780818460040360031b1b83161693505b505050919050565b6001600160a01b0393841681529190921660208201526001600160d81b03909116604082015260600190565b6000602082840312156154ae57600080fd5b5051919050565b60006001600160fb1b038311156154cb57600080fd5b8260051b80838637939093019392505050565b60006147076154f76154f0848a615221565b87896154b5565b84866154b5565b81835260006001600160fb1b0383111561551757600080fd5b8260051b80836020870137939093016020019392505050565b608081526000615543608083018961499b565b60208382038185015261555782898b6154fe565b9150838203604085015261556c8287896154fe565b8481036060860152855480825260008781528381209450918301915b818110156155a457845483526001948501949284019201615588565b50909b9a5050505050505050505050565b60208152600061462f6020830184866154fe565b600061462f8284866154b5565b6000602082840312156155e857600080fd5b815180151581146149e957600080fd5b85815260a06020820152600061561160a083018761499b565b6001600160a01b0395909516604083015250606081019290925260809091015292915050565b60005b8381101561565257818101518382015260200161563a565b50506000910152565b6000825161566d818460208701615637565b9190910192915050565b80820281158282048414176125b1576125b161512e565b6000602082840312156156a057600080fd5b81516149e981614823565b60208152600082518060208401526156ca816040850160208701615637565b601f01601f1916919091016040019291505056fea264697066735822122098d466d7280af626af69f2123a202bb7bd3f9e9f0099efb0f6107e82f396fa8964736f6c63430008110033"},"sourceId":"DebtAllocator.sol","userdoc":{"kind":"user","methods":{},"version":1}},"ICairoVerifier":{"abi":[{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"isValid","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}],"contractName":"ICairoVerifier","deploymentBytecode":{},"devdoc":{"kind":"dev","methods":{},"version":1},"runtimeBytecode":{},"sourceId":"DebtAllocator.sol","userdoc":{"kind":"user","methods":{},"version":1}},"IStreamer":{"abi":[{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint216","name":"amountPerSec","type":"uint216"}],"name":"getStreamId","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"streamToStart","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint216","name":"amountPerSec","type":"uint216"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}],"contractName":"IStreamer","deploymentBytecode":{},"devdoc":{"kind":"dev","methods":{},"version":1},"runtimeBytecode":{},"sourceId":"DebtAllocator.sol","userdoc":{"kind":"user","methods":{},"version":1}},"MockStrategy":{"abi":[{"inputs":[],"name":"apiVersion","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalAssets","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"updateTotalAssets","outputs":[],"stateMutability":"nonpayable","type":"function"}],"contractName":"MockStrategy","deploymentBytecode":{"bytecode":"0x608060405260026000556802b5e3af16b188000060015534801561002257600080fd5b5060ac806100316000396000f3fe6080604052348015600f57600080fd5b5060043610603c5760003560e01c806301e1d1141460415780632582941014605b578063d033cb4d146063575b600080fd5b604960015481565b60405190815260200160405180910390f35b604960005481565b6074681b1ae4d6e2ef500000600155565b00fea2646970667358221220354839224a3392a23a6c20f69b35c6997d045e6c6a50e7e4eef014bee16cddfe64736f6c63430008110033"},"devdoc":{"kind":"dev","methods":{},"version":1},"runtimeBytecode":{"bytecode":"0x608060405260026000556802b5e3af16b188000060015534801561002257600080fd5b5060ac806100316000396000f3fe6080604052348015600f57600080fd5b5060043610603c5760003560e01c806301e1d1141460415780632582941014605b578063d033cb4d146063575b600080fd5b604960015481565b60405190815260200160405180910390f35b604960005481565b6074681b1ae4d6e2ef500000600155565b00fea2646970667358221220354839224a3392a23a6c20f69b35c6997d045e6c6a50e7e4eef014bee16cddfe64736f6c63430008110033"},"sourceId":"mocks/MockStrategy1.sol","userdoc":{"kind":"user","methods":{},"version":1}},"MockStrategy2":{"abi":[{"inputs":[],"name":"apiVersion","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalAssets","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"updateTotalAssets","outputs":[],"stateMutability":"nonpayable","type":"function"}],"contractName":"MockStrategy2","deploymentBytecode":{"bytecode":"0x60806040526002600055678ac7230489e8000060015534801561002157600080fd5b5060ac806100306000396000f3fe6080604052348015600f57600080fd5b5060043610603c5760003560e01c806301e1d1141460415780632582941014605b578063d033cb4d146063575b600080fd5b604960015481565b60405190815260200160405180910390f35b604960005481565b6074681b1ae4d6e2ef500000600155565b00fea2646970667358221220529d49bf9335431885d38c2b83ba4ac4f54cdeea1602a33c1db1e1a9c160ff6764736f6c63430008110033"},"devdoc":{"kind":"dev","methods":{},"version":1},"runtimeBytecode":{"bytecode":"0x60806040526002600055678ac7230489e8000060015534801561002157600080fd5b5060ac806100306000396000f3fe6080604052348015600f57600080fd5b5060043610603c5760003560e01c806301e1d1141460415780632582941014605b578063d033cb4d146063575b600080fd5b604960015481565b60405190815260200160405180910390f35b604960005481565b6074681b1ae4d6e2ef500000600155565b00fea2646970667358221220529d49bf9335431885d38c2b83ba4ac4f54cdeea1602a33c1db1e1a9c160ff6764736f6c63430008110033"},"sourceId":"mocks/MockStrategy1.sol","userdoc":{"kind":"user","methods":{},"version":1}},"MockStrategyData1":{"abi":[{"inputs":[],"name":"first_data","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"second_data","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}],"contractName":"MockStrategyData1","deploymentBytecode":{"bytecode":"0x6080604052600b600055606f600155348015601957600080fd5b50608f806100286000396000f3fe6080604052348015600f57600080fd5b506004361060325760003560e01c80639c47575f146037578063dd384acb146051575b600080fd5b603f60015481565b60405190815260200160405180910390f35b603f6000548156fea264697066735822122064d61c276312088c6a8b119de39c47ed4e36e54e46b75f37fdd4cc9ed5efa9f264736f6c63430008110033"},"devdoc":{"kind":"dev","methods":{},"version":1},"runtimeBytecode":{"bytecode":"0x6080604052600b600055606f600155348015601957600080fd5b50608f806100286000396000f3fe6080604052348015600f57600080fd5b506004361060325760003560e01c80639c47575f146037578063dd384acb146051575b600080fd5b603f60015481565b60405190815260200160405180910390f35b603f6000548156fea264697066735822122064d61c276312088c6a8b119de39c47ed4e36e54e46b75f37fdd4cc9ed5efa9f264736f6c63430008110033"},"sourceId":"mocks/MockStrategyData1.sol","userdoc":{"kind":"user","methods":{},"version":1}},"MockStrategyData2":{"abi":[{"inputs":[],"name":"first_data","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"second_data","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}],"contractName":"MockStrategyData2","deploymentBytecode":{"bytecode":"0x6080604052601660005560de600155348015601957600080fd5b50608f806100286000396000f3fe6080604052348015600f57600080fd5b506004361060325760003560e01c80639c47575f146037578063dd384acb146051575b600080fd5b603f60015481565b60405190815260200160405180910390f35b603f6000548156fea26469706673582212206464a33357cf1dd517ff4c9d0862671b7aea39ae6f6eda0a276194bc7155f69b64736f6c63430008110033"},"devdoc":{"kind":"dev","methods":{},"version":1},"runtimeBytecode":{"bytecode":"0x6080604052601660005560de600155348015601957600080fd5b50608f806100286000396000f3fe6080604052348015600f57600080fd5b506004361060325760003560e01c80639c47575f146037578063dd384acb146051575b600080fd5b603f60015481565b60405190815260200160405180910390f35b603f6000548156fea26469706673582212206464a33357cf1dd517ff4c9d0862671b7aea39ae6f6eda0a276194bc7155f69b64736f6c63430008110033"},"sourceId":"mocks/MockStrategyData2.sol","userdoc":{"kind":"user","methods":{},"version":1}}},"manifest":"ethpm/3","sources":{"DebtAllocator.sol":{"checksum":{"algorithm":"md5","hash":"0x1db5b9ca11063a8e5aeb129c0cc284a4"},"content":"//SPDX-License-Identifier: UNLICENSED\n\nimport \"@openzeppelin/access/Ownable.sol\";\nimport \"@openzeppelin/token/ERC20/IERC20.sol\";\nimport \"@openzeppelin/token/ERC20/utils/SafeERC20.sol\";\n\npragma solidity >=0.7.0 <0.9.0;\n\ninterface ICairoVerifier {\n    function isValid(bytes32) external view returns (bool);\n}\n\ninterface IStreamer {\n    function token() external view returns (IERC20);\n\n    function streamToStart(bytes32) external view returns (uint256);\n\n    function withdraw(address from, address to, uint216 amountPerSec) external;\n\n    function getStreamId(\n        address from,\n        address to,\n        uint216 amountPerSec\n    ) external view returns (bytes32);\n}\n\ncontract DebtAllocator is Ownable {\n    using SafeERC20 for IERC20;\n\n    uint256 PRECISION = 10 ** 18;\n\n    ICairoVerifier public cairoVerifier = ICairoVerifier(address(0));\n    bytes32 public cairoProgramHash = 0x0;\n\n    struct PackedStrategies {\n        address[] addresses;\n        uint256[] callLen;\n        address[] contracts;\n        bytes[] checkdata;\n        uint256[] offset;\n        uint256[] calculationsLen;\n        uint256[] calculations;\n        uint256[] conditionsLen;\n        uint256[] conditions;\n    }\n\n    struct StrategyParam {\n        uint256 callLen;\n        address[] contracts;\n        bytes[] checkdata;\n        uint256[] offset;\n        uint256 calculationsLen;\n        uint256[] calculations;\n        uint256 conditionsLen;\n        uint256[] conditions;\n    }\n\n    uint256[] public targetAllocation;\n\n    // Everyone is free to propose a new solution, the address is stored so the user can get rewarded\n    address public proposer;\n    uint256 public proposerPerformance;\n    uint256 public lastUpdate;\n    uint256 public strategiesHash;\n    uint256 public inputHash;\n    mapping(uint256 => uint256) public snapshotTimestamp;\n\n    uint256 public staleSnapshotPeriod = 24 * 3600;\n    uint256 public stalePeriod = 24 * 3600;\n\n    // Rewards config\n    address public rewardsPayer;\n    address public rewardsStreamer;\n    uint216 public rewardsPerSec;\n\n    // 100% APY = 10^27, minimum increased = 10^23 = 0,01%\n    uint256 public minimumApyIncreaseForNewSolution = 100000000000000000000000;\n\n    constructor(address _cairoVerifier, bytes32 _cairoProgramHash) payable {}\n\n    event StrategyAdded(\n        address[] Strategies,\n        uint256[] StrategiesCallLen,\n        address[] Contracts,\n        bytes4[] Checkdata,\n        uint256[] Offset,\n        uint256[] CalculationsLen,\n        uint256[] Calculations,\n        uint256[] ConditionsLen,\n        uint256[] Conditions\n    );\n    event StrategyUpdated(\n        address[] Strategies,\n        uint256[] StrategiesCallLen,\n        address[] Contracts,\n        bytes4[] Checkdata,\n        uint256[] Offset,\n        uint256[] CalculationsLen,\n        uint256[] Calculations,\n        uint256[] ConditionsLen,\n        uint256[] Conditions\n    );\n    event StrategyRemoved(\n        address[] Strategies,\n        uint256[] StrategiesCallLen,\n        address[] Contracts,\n        bytes4[] Checkdata,\n        uint256[] Offset,\n        uint256[] CalculationsLen,\n        uint256[] Calculations,\n        uint256[] ConditionsLen,\n        uint256[] Conditions\n    );\n\n    event NewSnapshot(\n        uint256[] dataStrategies,\n        uint256[] calculation,\n        uint256[] condition,\n        uint256[] targetAllocations\n    );\n    event NewSolution(\n        uint256 newApy,\n        uint256[] newTargetAllocation,\n        address proposer,\n        uint256 proposerPerformance,\n        uint256 timestamp\n    );\n\n    event NewCairoProgramHash(bytes32 newCairoProgramHash);\n    event NewCairoVerifier(address newCairoVerifier);\n    event NewStalePeriod(uint256 newStalePeriod);\n    event NewStaleSnapshotPeriod(uint256 newStaleSnapshotPeriod);\n\n    event targetAllocationForced(uint256[] newTargetAllocation);\n\n    function updateRewardsConfig(\n        address _rewardsPayer,\n        address _rewardsStreamer,\n        uint216 _rewardsPerSec\n    ) external onlyOwner {\n        bytes32 streamId = IStreamer(_rewardsStreamer).getStreamId(\n            _rewardsPayer,\n            address(this),\n            _rewardsPerSec\n        );\n        require(\n            IStreamer(_rewardsStreamer).streamToStart(streamId) > 0,\n            \"STREAM\"\n        );\n        rewardsPayer = _rewardsPayer;\n        rewardsStreamer = _rewardsStreamer;\n        rewardsPerSec = _rewardsPerSec;\n    }\n\n    function updateCairoProgramHash(\n        bytes32 _cairoProgramHash\n    ) public onlyOwner {\n        cairoProgramHash = _cairoProgramHash;\n        emit NewCairoProgramHash(_cairoProgramHash);\n    }\n\n    function updateCairoVerifier(address _cairoVerifier) public onlyOwner {\n        cairoVerifier = ICairoVerifier(_cairoVerifier);\n        emit NewCairoVerifier(_cairoVerifier);\n    }\n\n    function updateStalePeriod(uint256 _stalePeriod) external onlyOwner {\n        stalePeriod = _stalePeriod;\n        emit NewStalePeriod(_stalePeriod);\n    }\n\n    function updateStaleSnapshotPeriod(\n        uint256 _staleSnapshotPeriod\n    ) external onlyOwner {\n        staleSnapshotPeriod = _staleSnapshotPeriod;\n        emit NewStaleSnapshotPeriod(_staleSnapshotPeriod);\n    }\n\n    function forceTargetAllocation(\n        uint256[] calldata _newTargetAllocation\n    ) public onlyOwner {\n        require(strategiesHash != 0, \"NO_STRATEGIES\");\n        require(\n            _newTargetAllocation.length == targetAllocation.length,\n            \"LENGTH\"\n        );\n        for (uint256 j; j < _newTargetAllocation.length; j++) {\n            targetAllocation[j] = _newTargetAllocation[j];\n        }\n        emit targetAllocationForced(_newTargetAllocation);\n    }\n\n    function saveSnapshot(\n        PackedStrategies calldata _packedStrategies\n    ) external {\n        // Checks at least one strategy is registered\n        require(strategiesHash != 0, \"NO_STRATEGIES\");\n\n        bytes4[] memory checkdata = castCheckdataToBytes4(\n            _packedStrategies.checkdata\n        );\n\n        // Checks strategies data is valid\n        checkStrategyHash(_packedStrategies, checkdata);\n\n        // updateTargetAllocation(_packedStrategies.addresses);\n\n        uint256[] memory dataStrategies = getStrategiesData(\n            _packedStrategies.contracts,\n            _packedStrategies.checkdata,\n            _packedStrategies.offset\n        );\n\n        inputHash = uint256(\n            keccak256(\n                abi.encodePacked(\n                    dataStrategies,\n                    _packedStrategies.calculations,\n                    _packedStrategies.conditions\n                )\n            )\n        );\n\n        snapshotTimestamp[inputHash] = block.timestamp;\n        // TODO: do we need current debt in each strategy? (to be able to take into account withdrawals)\n        emit NewSnapshot(\n            dataStrategies,\n            _packedStrategies.calculations,\n            _packedStrategies.conditions,\n            targetAllocation\n        );\n    }\n\n    function verifySolution(\n        uint256[] calldata programOutput\n    ) external returns (bytes32) {\n        // NOTE: Check current snapshot not stale\n        uint256 _inputHash = inputHash;\n        uint256 _snapshotTimestamp = snapshotTimestamp[_inputHash];\n\n        require(\n            _snapshotTimestamp + staleSnapshotPeriod > block.timestamp,\n            \"STALE_SNAPSHOT\"\n        );\n\n        // NOTE: We get the data from parsing the program output\n        (\n            uint256 inputHash_,\n            uint256[] memory currentTargetAllocation,\n            uint256[] memory newTargetAllocation,\n            uint256 currentSolution,\n            uint256 newSolution\n        ) = parseProgramOutput(programOutput);\n\n        // check inputs\n        require(inputHash_ == _inputHash, \"HASH\");\n\n        // check target allocation len\n        require(\n            targetAllocation.length == currentTargetAllocation.length &&\n                targetAllocation.length == newTargetAllocation.length,\n            \"TARGET_ALLOCATION_LENGTH\"\n        );\n\n        // check if the new solution better than previous one\n        require(\n            newSolution - minimumApyIncreaseForNewSolution >= currentSolution,\n            \"TOO_BAD\"\n        );\n\n        // Check with cairoVerifier\n        bytes32 outputHash = keccak256(abi.encodePacked(programOutput));\n        bytes32 fact = keccak256(\n            abi.encodePacked(cairoProgramHash, outputHash)\n        );\n\n        require(cairoVerifier.isValid(fact), \"MISSING_PROOF\");\n\n        targetAllocation = newTargetAllocation;\n        lastUpdate = block.timestamp;\n\n        sendRewardsToCurrentProposer();\n        proposer = msg.sender;\n        proposerPerformance = newSolution - currentSolution;\n\n        emit NewSolution(\n            newSolution,\n            newTargetAllocation,\n            msg.sender,\n            proposerPerformance,\n            block.timestamp\n        );\n        return (fact);\n    }\n\n    // =============== REWARDS =================\n    function sendRewardsToCurrentProposer() internal {\n        IStreamer _rewardsStreamer = IStreamer(rewardsStreamer);\n        if (address(_rewardsStreamer) == address(0)) {\n            return;\n        }\n        bytes32 streamId = _rewardsStreamer.getStreamId(\n            rewardsPayer,\n            address(this),\n            rewardsPerSec\n        );\n        if (_rewardsStreamer.streamToStart(streamId) == 0) {\n            // stream does not exist\n            return;\n        }\n        IERC20 _rewardsToken = IERC20(_rewardsStreamer.token());\n        // NOTE: if the stream does not have enough to pay full amount, it will pay less than expected\n        // WARNING: if this happens and the proposer is changed, the old proposer will lose the rewards\n        // TODO: create a way to ensure previous proposer gets the rewards even when payers balance is not enough (by saving how much he's owed)\n        _rewardsStreamer.withdraw(rewardsPayer, address(this), rewardsPerSec);\n        uint256 rewardsBalance = _rewardsToken.balanceOf(address(this));\n        _rewardsToken.safeTransfer(proposer, rewardsBalance);\n    }\n\n    function claimRewards() external {\n        require(msg.sender == proposer, \"NOT_ALLOWED\");\n        sendRewardsToCurrentProposer();\n    }\n\n    // ============== STRATEGY MANAGEMENT ================\n    function addStrategy(\n        PackedStrategies calldata _packedStrategies,\n        address _newStrategy,\n        StrategyParam calldata _newStrategyParam\n    ) external onlyOwner {\n        // Checks previous strategies data valid\n        bytes4[] memory checkdata = castCheckdataToBytes4(\n            _packedStrategies.checkdata\n        );\n\n        if (strategiesHash != 0) {\n            checkStrategyHash(_packedStrategies, checkdata);\n        } else {\n            require(_packedStrategies.addresses.length == 0, \"FIRST_DATA\");\n        }\n\n        for (uint256 i = 0; i < _packedStrategies.addresses.length; i++) {\n            if (_packedStrategies.addresses[i] == _newStrategy) {\n                revert(\"STRATEGY_EXISTS\");\n            }\n        }\n\n        // Checks call data valid\n        checkValidityOfData(_newStrategyParam);\n\n        // Build new arrays for the Strategy Hash and the Event\n        address[] memory strategies = new address[](\n            _packedStrategies.addresses.length + 1\n        );\n        for (uint256 i = 0; i < _packedStrategies.addresses.length; i++) {\n            strategies[i] = _packedStrategies.addresses[i];\n        }\n        strategies[_packedStrategies.addresses.length] = _newStrategy;\n\n        uint256[] memory strategiesCallLen = appendUint256ToArray(\n            _packedStrategies.callLen,\n            _newStrategyParam.callLen\n        );\n\n        address[] memory contracts = new address[](\n            _packedStrategies.contracts.length + _newStrategyParam.callLen\n        );\n        for (uint256 i = 0; i < _packedStrategies.contracts.length; i++) {\n            contracts[i] = _packedStrategies.contracts[i];\n        }\n        for (uint256 i = 0; i < _newStrategyParam.callLen; i++) {\n            contracts[\n                i + _packedStrategies.contracts.length\n            ] = _newStrategyParam.contracts[i];\n        }\n\n        checkdata = new bytes4[](\n            _packedStrategies.checkdata.length + _newStrategyParam.callLen\n        );\n        for (uint256 i = 0; i < _packedStrategies.checkdata.length; i++) {\n            checkdata[i] = bytes4(_packedStrategies.checkdata[i]);\n        }\n\n        for (uint256 i = 0; i < _newStrategyParam.callLen; i++) {\n            checkdata[i + _packedStrategies.checkdata.length] = bytes4(\n                _newStrategyParam.checkdata[i]\n            );\n        }\n\n        uint256[] memory offset = concatenateUint256ArrayToUint256Array(\n            _packedStrategies.offset,\n            _newStrategyParam.offset\n        );\n\n        uint256[] memory calculationsLen = appendUint256ToArray(\n            _packedStrategies.calculationsLen,\n            _newStrategyParam.calculationsLen\n        );\n\n        uint256[] memory calculations = concatenateUint256ArrayToUint256Array(\n            _packedStrategies.calculations,\n            _newStrategyParam.calculations\n        );\n\n        uint256[] memory conditionsLen = appendUint256ToArray(\n            _packedStrategies.conditionsLen,\n            _newStrategyParam.conditionsLen\n        );\n\n        uint256[] memory conditions = concatenateUint256ArrayToUint256Array(\n            _packedStrategies.conditions,\n            _newStrategyParam.conditions\n        );\n\n        strategiesHash = uint256(\n            keccak256(\n                abi.encodePacked(\n                    strategies,\n                    strategiesCallLen,\n                    contracts,\n                    checkdata,\n                    offset,\n                    calculationsLen,\n                    calculations,\n                    conditionsLen,\n                    conditions\n                )\n            )\n        );\n\n        // New strategy allocation always set to 0, people can then send new solution\n        targetAllocation.push(0);\n\n        emit StrategyAdded(\n            strategies,\n            strategiesCallLen,\n            contracts,\n            checkdata,\n            offset,\n            calculationsLen,\n            calculations,\n            conditionsLen,\n            conditions\n        );\n    }\n\n    // TODO: use utils functions\n    function updateStrategy(\n        PackedStrategies memory _packedStrategies,\n        uint256 indexStrategyToUpdate,\n        StrategyParam memory _newStrategyParam\n    ) external onlyOwner {\n        // Checks at least one strategy is registered\n        require(strategiesHash != 0, \"NO_STRATEGIES\");\n\n        // Checks strategies data is valid\n        bytes4[] memory checkdata = castCheckdataToBytes4(\n            _packedStrategies.checkdata\n        );\n\n        checkStrategyHash(_packedStrategies, checkdata);\n\n        // Checks index in range\n        require(\n            indexStrategyToUpdate < _packedStrategies.addresses.length,\n            \"INDEX_OUT_OF_RANGE\"\n        );\n\n        // Checks call data valid\n        checkValidityOfData(_newStrategyParam);\n\n        // Build new arrays for the Strategy Hash and the Event\n        uint256[] memory strategiesCallLen = new uint256[](\n            _packedStrategies.callLen.length\n        );\n        uint256[] memory calculationsLen = new uint256[](\n            _packedStrategies.calculationsLen.length\n        );\n        uint256[] memory conditionsLen = new uint256[](\n            _packedStrategies.conditionsLen.length\n        );\n        address[] memory contracts = new address[](\n            _packedStrategies.contracts.length -\n                _packedStrategies.callLen[indexStrategyToUpdate] +\n                _newStrategyParam.callLen\n        );\n        checkdata = new bytes4[](\n            _packedStrategies.checkdata.length -\n                _packedStrategies.callLen[indexStrategyToUpdate] +\n                _newStrategyParam.callLen\n        );\n        uint256[] memory offset = new uint256[](\n            _packedStrategies.offset.length -\n                _packedStrategies.callLen[indexStrategyToUpdate] +\n                _newStrategyParam.callLen\n        );\n        uint256[] memory calculations = new uint256[](\n            _packedStrategies.calculations.length -\n                _packedStrategies.calculationsLen[indexStrategyToUpdate] +\n                _newStrategyParam.calculationsLen\n        );\n        uint256[] memory conditions = new uint256[](\n            _packedStrategies.conditions.length -\n                _packedStrategies.conditionsLen[indexStrategyToUpdate] +\n                _newStrategyParam.conditionsLen\n        );\n        uint256 offsetCalldata = indexStrategyToUpdate;\n        if (indexStrategyToUpdate == _packedStrategies.addresses.length - 1) {\n            for (uint256 i = 0; i < offsetCalldata; i++) {\n                strategiesCallLen[i] = _packedStrategies.callLen[i];\n            }\n            strategiesCallLen[offsetCalldata] = _newStrategyParam.callLen;\n            for (uint256 i = 0; i < offsetCalldata; i++) {\n                calculationsLen[i] = _packedStrategies.calculationsLen[i];\n            }\n            calculationsLen[offsetCalldata] = _newStrategyParam.calculationsLen;\n            for (uint256 i = 0; i < offsetCalldata; i++) {\n                conditionsLen[i] = _packedStrategies.conditionsLen[i];\n            }\n            conditionsLen[offsetCalldata] = _newStrategyParam.conditionsLen;\n\n            offsetCalldata = 0;\n            for (uint256 i = 0; i < indexStrategyToUpdate; i++) {\n                offsetCalldata += _packedStrategies.callLen[i];\n            }\n            for (uint256 i = 0; i < offsetCalldata; i++) {\n                contracts[i] = _packedStrategies.contracts[i];\n            }\n            for (uint256 i = 0; i < _newStrategyParam.callLen; i++) {\n                contracts[i + offsetCalldata] = _newStrategyParam.contracts[i];\n            }\n            for (uint256 i = 0; i < offsetCalldata; i++) {\n                checkdata[i] = bytes4(_packedStrategies.checkdata[i]);\n            }\n            for (uint256 i = 0; i < _newStrategyParam.callLen; i++) {\n                checkdata[i + offsetCalldata] = bytes4(\n                    _newStrategyParam.checkdata[i]\n                );\n            }\n            for (uint256 i = 0; i < offsetCalldata; i++) {\n                offset[i] = _packedStrategies.offset[i];\n            }\n            for (uint256 i = 0; i < _newStrategyParam.callLen; i++) {\n                offset[i + offsetCalldata] = _newStrategyParam.offset[i];\n            }\n\n            offsetCalldata = 0;\n            for (uint256 i = 0; i < indexStrategyToUpdate; i++) {\n                offsetCalldata += _packedStrategies.calculationsLen[i];\n            }\n            for (uint256 i = 0; i < offsetCalldata; i++) {\n                calculations[i] = _packedStrategies.calculations[i];\n            }\n            for (uint256 i = 0; i < _newStrategyParam.calculationsLen; i++) {\n                calculations[i + offsetCalldata] = _newStrategyParam\n                    .calculations[i];\n            }\n\n            offsetCalldata = 0;\n            for (uint256 i = 0; i < indexStrategyToUpdate; i++) {\n                offsetCalldata += _packedStrategies.conditionsLen[i];\n            }\n            for (uint256 i = 0; i < offsetCalldata; i++) {\n                conditions[i] = _packedStrategies.conditions[i];\n            }\n            for (uint256 i = 0; i < _newStrategyParam.conditionsLen; i++) {\n                conditions[i + offsetCalldata] = _newStrategyParam.conditions[\n                    i\n                ];\n            }\n        } else {\n            for (uint256 i = 0; i < offsetCalldata; i++) {\n                strategiesCallLen[i] = _packedStrategies.callLen[i];\n            }\n            strategiesCallLen[offsetCalldata] = _newStrategyParam.callLen;\n            for (\n                uint256 i = offsetCalldata + 1;\n                i < _packedStrategies.callLen.length;\n                i++\n            ) {\n                strategiesCallLen[i] = _packedStrategies.callLen[i];\n            }\n            for (uint256 i = 0; i < offsetCalldata; i++) {\n                calculationsLen[i] = _packedStrategies.calculationsLen[i];\n            }\n            calculationsLen[offsetCalldata] = _newStrategyParam.calculationsLen;\n            for (\n                uint256 i = offsetCalldata + 1;\n                i < _packedStrategies.calculationsLen.length;\n                i++\n            ) {\n                calculationsLen[i] = _packedStrategies.calculationsLen[i];\n            }\n            for (uint256 i = 0; i < offsetCalldata; i++) {\n                conditionsLen[i] = _packedStrategies.conditionsLen[i];\n            }\n            conditionsLen[offsetCalldata] = _newStrategyParam.conditionsLen;\n            for (\n                uint256 i = offsetCalldata + 1;\n                i < _packedStrategies.conditionsLen.length;\n                i++\n            ) {\n                conditionsLen[i] = _packedStrategies.conditionsLen[i];\n            }\n\n            uint256 totalCallLen = 0;\n            offsetCalldata = 0;\n            for (uint256 i = 0; i < _packedStrategies.addresses.length; i++) {\n                if (i == indexStrategyToUpdate) {\n                    offsetCalldata = totalCallLen;\n                }\n                totalCallLen += _packedStrategies.callLen[i];\n            }\n            uint256 offsetCalldataAfter = offsetCalldata +\n                _packedStrategies.callLen[indexStrategyToUpdate];\n            for (uint256 i = 0; i < offsetCalldata; i++) {\n                contracts[i] = _packedStrategies.contracts[i];\n            }\n            for (uint256 i = 0; i < _newStrategyParam.callLen; i++) {\n                contracts[i + offsetCalldata] = _newStrategyParam.contracts[i];\n            }\n            for (uint256 i = 0; i < totalCallLen - offsetCalldataAfter; i++) {\n                contracts[\n                    i + offsetCalldata + _newStrategyParam.callLen\n                ] = _packedStrategies.contracts[offsetCalldataAfter + i];\n            }\n            for (uint256 i = 0; i < offsetCalldata; i++) {\n                checkdata[i] = bytes4(_packedStrategies.checkdata[i]);\n            }\n            for (uint256 i = 0; i < _newStrategyParam.callLen; i++) {\n                checkdata[i + offsetCalldata] = bytes4(\n                    _newStrategyParam.checkdata[i]\n                );\n            }\n            for (uint256 i = 0; i < totalCallLen - offsetCalldataAfter; i++) {\n                checkdata[\n                    i + offsetCalldata + _newStrategyParam.callLen\n                ] = bytes4(\n                    _packedStrategies.checkdata[offsetCalldataAfter + i]\n                );\n            }\n            for (uint256 i = 0; i < offsetCalldata; i++) {\n                offset[i] = _packedStrategies.offset[i];\n            }\n            for (uint256 i = 0; i < _newStrategyParam.callLen; i++) {\n                offset[i + offsetCalldata] = _newStrategyParam.offset[i];\n            }\n            for (uint256 i = 0; i < totalCallLen - offsetCalldataAfter; i++) {\n                offset[\n                    i + offsetCalldata + _newStrategyParam.callLen\n                ] = _packedStrategies.offset[offsetCalldataAfter + i];\n            }\n\n            totalCallLen = 0;\n            offsetCalldata = 0;\n            for (uint256 i = 0; i < _packedStrategies.addresses.length; i++) {\n                if (i == indexStrategyToUpdate) {\n                    offsetCalldata = totalCallLen;\n                }\n                totalCallLen += _packedStrategies.calculationsLen[i];\n            }\n            offsetCalldataAfter =\n                offsetCalldata +\n                _packedStrategies.calculationsLen[indexStrategyToUpdate];\n            for (uint256 i = 0; i < offsetCalldata; i++) {\n                calculations[i] = _packedStrategies.calculations[i];\n            }\n            for (uint256 i = 0; i < _newStrategyParam.calculationsLen; i++) {\n                calculations[i + offsetCalldata] = _newStrategyParam\n                    .calculations[i];\n            }\n            for (uint256 i = 0; i < totalCallLen - offsetCalldataAfter; i++) {\n                calculations[\n                    i + offsetCalldata + _newStrategyParam.calculationsLen\n                ] = _packedStrategies.calculations[offsetCalldataAfter + i];\n            }\n\n            totalCallLen = 0;\n            offsetCalldata = 0;\n            for (uint256 i = 0; i < _packedStrategies.addresses.length; i++) {\n                if (i == indexStrategyToUpdate) {\n                    offsetCalldata = totalCallLen;\n                }\n                totalCallLen += _packedStrategies.conditionsLen[i];\n            }\n            offsetCalldataAfter =\n                offsetCalldata +\n                _packedStrategies.conditionsLen[indexStrategyToUpdate];\n            for (uint256 i = 0; i < offsetCalldata; i++) {\n                conditions[i] = _packedStrategies.conditions[i];\n            }\n            for (uint256 i = 0; i < _newStrategyParam.conditionsLen; i++) {\n                conditions[i + offsetCalldata] = _newStrategyParam.conditions[\n                    i\n                ];\n            }\n            for (uint256 i = 0; i < totalCallLen - offsetCalldataAfter; i++) {\n                conditions[\n                    i + offsetCalldata + _newStrategyParam.conditionsLen\n                ] = _packedStrategies.conditions[offsetCalldataAfter + i];\n            }\n        }\n\n        strategiesHash = uint256(\n            keccak256(\n                abi.encodePacked(\n                    _packedStrategies.addresses,\n                    strategiesCallLen,\n                    contracts,\n                    checkdata,\n                    offset,\n                    calculationsLen,\n                    calculations,\n                    conditionsLen,\n                    conditions\n                )\n            )\n        );\n\n        emit StrategyUpdated(\n            _packedStrategies.addresses,\n            strategiesCallLen,\n            contracts,\n            checkdata,\n            offset,\n            calculationsLen,\n            calculations,\n            conditionsLen,\n            conditions\n        );\n    }\n\n    function removeStrategy(\n        PackedStrategies memory _packedStrategies,\n        uint256 indexStrategyToRemove\n    ) external onlyOwner {\n        // Checks at least one strategy is registered\n        require(strategiesHash != 0, \"NO_STRATEGIES\");\n\n        bytes4[] memory checkdata = castCheckdataToBytes4(\n            _packedStrategies.checkdata\n        );\n\n        // Checks strategies data is valid\n        checkStrategyHash(_packedStrategies, checkdata);\n\n        // Checks index in range\n        require(indexStrategyToRemove < _packedStrategies.addresses.length);\n\n        // Build new arrays for the Strategy Hash and the Event\n        uint256[] memory strategiesCallLen = new uint256[](\n            _packedStrategies.callLen.length - 1\n        );\n        uint256[] memory calculationsLen = new uint256[](\n            _packedStrategies.calculationsLen.length - 1\n        );\n        uint256[] memory conditionsLen = new uint256[](\n            _packedStrategies.conditionsLen.length - 1\n        );\n        address[] memory contracts = new address[](\n            _packedStrategies.contracts.length -\n                _packedStrategies.callLen[indexStrategyToRemove]\n        );\n        checkdata = new bytes4[](\n            _packedStrategies.checkdata.length -\n                _packedStrategies.callLen[indexStrategyToRemove]\n        );\n        uint256[] memory offset = new uint256[](\n            _packedStrategies.offset.length -\n                _packedStrategies.callLen[indexStrategyToRemove]\n        );\n        uint256[] memory calculations = new uint256[](\n            _packedStrategies.calculations.length -\n                _packedStrategies.calculationsLen[indexStrategyToRemove]\n        );\n        uint256[] memory conditions = new uint256[](\n            _packedStrategies.conditions.length -\n                _packedStrategies.conditionsLen[indexStrategyToRemove]\n        );\n        uint256 offsetCalldata = indexStrategyToRemove;\n        for (uint256 i = 0; i < offsetCalldata; i++) {\n            strategiesCallLen[i] = _packedStrategies.callLen[i];\n        }\n        for (\n            uint256 i = 0;\n            i < _packedStrategies.addresses.length - (offsetCalldata + 1);\n            i++\n        ) {\n            strategiesCallLen[offsetCalldata + i] = _packedStrategies.callLen[\n                offsetCalldata + 1 + i\n            ];\n        }\n        for (uint256 i = 0; i < offsetCalldata; i++) {\n            calculationsLen[i] = _packedStrategies.calculationsLen[i];\n        }\n        for (\n            uint256 i = 0;\n            i < _packedStrategies.addresses.length - (offsetCalldata + 1);\n            i++\n        ) {\n            calculationsLen[offsetCalldata + i] = _packedStrategies\n                .calculationsLen[offsetCalldata + 1 + i];\n        }\n        for (uint256 i = 0; i < offsetCalldata; i++) {\n            conditionsLen[i] = _packedStrategies.conditionsLen[i];\n        }\n        for (\n            uint256 i = 0;\n            i < _packedStrategies.addresses.length - (offsetCalldata + 1);\n            i++\n        ) {\n            conditionsLen[offsetCalldata + i] = _packedStrategies.conditionsLen[\n                offsetCalldata + 1 + i\n            ];\n        }\n\n        uint256 totalCallLen = 0;\n        offsetCalldata = 0;\n        for (uint256 i = 0; i < _packedStrategies.addresses.length; i++) {\n            if (i == indexStrategyToRemove) {\n                offsetCalldata = totalCallLen;\n            }\n            totalCallLen += _packedStrategies.callLen[i];\n        }\n\n        for (uint256 i = 0; i < offsetCalldata; i++) {\n            contracts[i] = _packedStrategies.contracts[i];\n        }\n        for (\n            uint256 i = 0;\n            i <\n            totalCallLen -\n                (offsetCalldata +\n                    _packedStrategies.callLen[indexStrategyToRemove]);\n            i++\n        ) {\n            contracts[i + offsetCalldata] = _packedStrategies.contracts[\n                offsetCalldata +\n                    _packedStrategies.callLen[indexStrategyToRemove] +\n                    i\n            ];\n        }\n        for (uint256 i = 0; i < offsetCalldata; i++) {\n            checkdata[i] = bytes4(_packedStrategies.checkdata[i]);\n        }\n        for (\n            uint256 i = 0;\n            i <\n            totalCallLen -\n                (offsetCalldata +\n                    _packedStrategies.callLen[indexStrategyToRemove]);\n            i++\n        ) {\n            checkdata[i + offsetCalldata] = bytes4(\n                _packedStrategies.checkdata[\n                    offsetCalldata +\n                        _packedStrategies.callLen[indexStrategyToRemove] +\n                        i\n                ]\n            );\n        }\n        for (uint256 i = 0; i < offsetCalldata; i++) {\n            offset[i] = _packedStrategies.offset[i];\n        }\n        for (\n            uint256 i = 0;\n            i <\n            totalCallLen -\n                (offsetCalldata +\n                    _packedStrategies.callLen[indexStrategyToRemove]);\n            i++\n        ) {\n            offset[i + offsetCalldata] = _packedStrategies.offset[\n                offsetCalldata +\n                    _packedStrategies.callLen[indexStrategyToRemove] +\n                    i\n            ];\n        }\n\n        totalCallLen = 0;\n        offsetCalldata = 0;\n        for (uint256 i = 0; i < _packedStrategies.addresses.length; i++) {\n            if (i == indexStrategyToRemove) {\n                offsetCalldata = totalCallLen;\n            }\n            totalCallLen += _packedStrategies.calculationsLen[i];\n        }\n        for (uint256 i = 0; i < offsetCalldata; i++) {\n            calculations[i] = _packedStrategies.calculations[i];\n        }\n        for (\n            uint256 i = 0;\n            i <\n            totalCallLen -\n                (offsetCalldata +\n                    _packedStrategies.calculationsLen[indexStrategyToRemove]);\n            i++\n        ) {\n            calculations[i + offsetCalldata] = _packedStrategies.calculations[\n                offsetCalldata +\n                    _packedStrategies.calculationsLen[indexStrategyToRemove] +\n                    i\n            ];\n        }\n        totalCallLen = 0;\n        offsetCalldata = 0;\n        for (uint256 i = 0; i < _packedStrategies.addresses.length; i++) {\n            if (i == indexStrategyToRemove) {\n                offsetCalldata = totalCallLen;\n            }\n            totalCallLen += _packedStrategies.conditionsLen[i];\n        }\n        for (uint256 i = 0; i < offsetCalldata; i++) {\n            conditions[i] = _packedStrategies.conditions[i];\n        }\n        for (\n            uint256 i = 0;\n            i <\n            totalCallLen -\n                (offsetCalldata +\n                    _packedStrategies.conditionsLen[indexStrategyToRemove]);\n            i++\n        ) {\n            conditions[i + offsetCalldata] = _packedStrategies.conditions[\n                offsetCalldata +\n                    _packedStrategies.conditionsLen[indexStrategyToRemove] +\n                    i\n            ];\n        }\n\n        strategiesHash = uint256(\n            keccak256(\n                abi.encodePacked(\n                    _packedStrategies.addresses,\n                    strategiesCallLen,\n                    contracts,\n                    checkdata,\n                    offset,\n                    calculationsLen,\n                    calculations,\n                    conditionsLen,\n                    conditions\n                )\n            )\n        );\n        emit StrategyRemoved(\n            _packedStrategies.addresses,\n            strategiesCallLen,\n            contracts,\n            checkdata,\n            offset,\n            calculationsLen,\n            calculations,\n            conditionsLen,\n            conditions\n        );\n    }\n\n    //Can't set only view, .call potentially modify state (should not arrive)\n    function getStrategiesData(\n        address[] calldata contracts,\n        bytes[] calldata checkdata,\n        uint256[] calldata offset\n    ) public returns (uint256[] memory dataStrategies) {\n        uint256[] memory dataStrategies_ = new uint256[](contracts.length);\n        for (uint256 j; j < contracts.length; j++) {\n            (, bytes memory data) = contracts[j].call(checkdata[j]);\n            dataStrategies_[j] = uint256(bytesToBytes32(data, offset[j]));\n        }\n        return (dataStrategies_);\n    }\n\n    //     function updateTargetAllocation(address[] memory strategies) internal {\n    //         uint256[] memory realAllocations = new uint256[](strategies.length);\n    //         uint256 cumulativeAmountRealAllocations = 0;\n    //         uint256 cumulativeAmountTargetAllocations = 0;\n    //         for (uint256 j; j < strategies.length; j++) {\n    //             realAllocations[j] = IStrategy(strategies[j]).totalAssets();\n    //             cumulativeAmountRealAllocations += realAllocations[j];\n    //             cumulativeAmountTargetAllocations += targetAllocation[j];\n    //         }\n    //\n    //         if (cumulativeAmountTargetAllocations == 0) {\n    //             targetAllocation = realAllocations;\n    //         } else {\n    //             if (\n    //                 cumulativeAmountTargetAllocations <=\n    //                 cumulativeAmountRealAllocations\n    //             ) {\n    //                 uint256 diff = cumulativeAmountRealAllocations -\n    //                     cumulativeAmountTargetAllocations;\n    //                 // We need to add this amount respecting the different strategies allocation ratio\n    //                 for (uint256 i = 0; i < strategies.length; i++) {\n    //                     uint256 strategyAllocationRatio = (PRECISION *\n    //                         targetAllocation[i]) /\n    //                         cumulativeAmountTargetAllocations;\n    //                     targetAllocation[i] +=\n    //                         (strategyAllocationRatio * diff) /\n    //                         PRECISION;\n    //                 }\n    //             } else {\n    //                 uint256 diff = cumulativeAmountTargetAllocations -\n    //                     cumulativeAmountRealAllocations;\n    //                 // We need to substract this amount respecting the different strategies allocation ratio\n    //                 for (uint256 i = 0; i < strategies.length; i++) {\n    //                     uint256 strategyAllocationRatio = (PRECISION *\n    //                         targetAllocation[i]) /\n    //                         cumulativeAmountTargetAllocations;\n    //                     targetAllocation[i] -=\n    //                         (strategyAllocationRatio * diff) /\n    //                         PRECISION;\n    //                 }\n    //             }\n    //         }\n    //     }\n    //\n    // UTILS\n    function checkStrategyHash(\n        PackedStrategies memory _packedStrategies,\n        bytes4[] memory checkdata\n    ) internal view {\n        require(\n            strategiesHash ==\n                uint256(\n                    keccak256(\n                        abi.encodePacked(\n                            _packedStrategies.addresses,\n                            _packedStrategies.callLen,\n                            _packedStrategies.contracts,\n                            checkdata,\n                            _packedStrategies.offset,\n                            _packedStrategies.calculationsLen,\n                            _packedStrategies.calculations,\n                            _packedStrategies.conditionsLen,\n                            _packedStrategies.conditions\n                        )\n                    )\n                ),\n            \"DATA\"\n        );\n    }\n\n    function parseProgramOutput(\n        uint256[] calldata programOutput\n    )\n        public\n        pure\n        returns (\n            uint256 _inputHash,\n            uint256[] memory _currentTargetAllocation,\n            uint256[] memory _newTargetAllocation,\n            uint256 _currentSolution,\n            uint256 _newSolution\n        )\n    {\n        _inputHash = programOutput[0] << 128;\n        _inputHash += programOutput[1];\n\n        _currentTargetAllocation = new uint256[](programOutput[2]);\n\n        _newTargetAllocation = new uint256[](programOutput[2]);\n\n        for (uint256 i = 0; i < programOutput[2]; i++) {\n            // NOTE: skip the 2 first value + array len\n            _currentTargetAllocation[i] = programOutput[i + 3];\n            _newTargetAllocation[i] = programOutput[i + 4 + programOutput[2]];\n        }\n        return (\n            _inputHash,\n            _currentTargetAllocation,\n            _newTargetAllocation,\n            programOutput[programOutput.length - 2],\n            programOutput[programOutput.length - 1]\n        );\n    }\n\n    function bytesToBytes32(\n        bytes memory b,\n        uint offset\n    ) private pure returns (bytes32) {\n        bytes32 out;\n        for (uint i = 0; i < 32; i++) {\n            out |= bytes32(b[offset + i] & 0xFF) >> (i * 8);\n        }\n        return out;\n    }\n\n    function castCheckdataToBytes4(\n        bytes[] memory oldCheckdata\n    ) internal view returns (bytes4[] memory checkdata) {\n        checkdata = new bytes4[](oldCheckdata.length);\n        for (uint256 i = 0; i < oldCheckdata.length; i++) {\n            checkdata[i] = bytes4(oldCheckdata[i]);\n        }\n    }\n\n    function checkValidityOfData(\n        StrategyParam memory _newStrategyParam\n    ) internal {\n        // check lengths\n        require(\n            _newStrategyParam.callLen == _newStrategyParam.contracts.length &&\n                _newStrategyParam.callLen ==\n                _newStrategyParam.checkdata.length &&\n                _newStrategyParam.callLen == _newStrategyParam.offset.length &&\n                _newStrategyParam.calculationsLen ==\n                _newStrategyParam.calculations.length &&\n                _newStrategyParam.conditionsLen ==\n                _newStrategyParam.conditions.length,\n            \"ARRAY_LEN\"\n        );\n\n        // check success of calls\n        for (uint256 i = 0; i < _newStrategyParam.callLen; i++) {\n            (bool success, ) = _newStrategyParam.contracts[i].call(\n                _newStrategyParam.checkdata[i]\n            );\n            require(success == true, \"CALLDATA\");\n            // Should we check for offset?\n        }\n    }\n\n    function appendUint256ToArray(\n        uint256[] memory array,\n        uint256 newItem\n    ) internal pure returns (uint256[] memory newArray) {\n        newArray = new uint256[](array.length + 1);\n        for (uint256 i = 0; i < array.length; i++) {\n            newArray[i] = array[i];\n        }\n        newArray[array.length] = newItem;\n    }\n\n    function concatenateUint256ArrayToUint256Array(\n        uint256[] memory arrayA,\n        uint256[] memory arrayB\n    ) internal pure returns (uint256[] memory newArray) {\n        newArray = new uint256[](arrayA.length + arrayB.length);\n        for (uint256 i = 0; i < arrayA.length; i++) {\n            newArray[i] = arrayA[i];\n        }\n        uint256 lenA = arrayA.length;\n        for (uint256 i = 0; i < arrayB.length; i++) {\n            newArray[i + lenA] = arrayB[i];\n        }\n    }\n}\n","imports":[".cache/OpenZeppelin/v4.8.0/access/Ownable.sol",".cache/OpenZeppelin/v4.8.0/token/ERC20/IERC20.sol",".cache/OpenZeppelin/v4.8.0/token/ERC20/utils/SafeERC20.sol"],"references":[],"urls":[]},"mocks/MockStrategy1.sol":{"checksum":{"algorithm":"md5","hash":"0x6a9608f610d677db36c489d7423fc243"},"content":"//SPDX-License-Identifier: UNLICENSED\n\ncontract MockStrategy {\n    uint256 public apiVersion = 2;\n    uint256 public totalAssets = 50 * 10 ** 18;\n\n    function updateTotalAssets() public {\n        totalAssets = 500 * 10 ** 18;\n    }\n}\n\ncontract MockStrategy2 {\n    uint256 public apiVersion = 2;\n    uint256 public totalAssets = 10 * 10 ** 18;\n\n    function updateTotalAssets() public {\n        totalAssets = 500 * 10 ** 18;\n    }\n}\n","imports":[],"references":[],"urls":[]},"mocks/MockStrategyData1.sol":{"checksum":{"algorithm":"md5","hash":"0x5fa398b50c5d8d2061371e2b688b80cf"},"content":"//SPDX-License-Identifier: UNLICENSED\n\ncontract MockStrategyData1 {\n    uint256 public first_data = 11;\n    uint256 public second_data = 111;\n}\n","imports":[],"references":[],"urls":[]},"mocks/MockStrategyData2.sol":{"checksum":{"algorithm":"md5","hash":"0xbb150adb0b0f05603df7d9e27c4bb2fc"},"content":"//SPDX-License-Identifier: UNLICENSED\n\ncontract MockStrategyData2 {\n    uint256 public first_data = 22;\n    uint256 public second_data = 222;\n}\n","imports":[],"references":[],"urls":[]}}}