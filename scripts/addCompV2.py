import click
from ape.cli import network_option, NetworkBoundCommand
from ape import accounts, project


#
## COMPOUND 
#

## Goerli, with USDC ASSET

WANTED_TOKEN = "0x07865c6E87B9F70255377e024ace6630C1Eaa37F"
cTOKEN = "0x73506770799Eb04befb5AaE4734e58C2C624F493"
INTEREST_RATE_cTOKEN = "0xef5ae06093bdFc54Fbc804C7627B15dAE98Ca5e7"
Comptroller = "0x05Df6C772A563FfB37fD3E04C1A279Fb30228621"
COMP_USD = "0x0d79df66BE487753B02D015Fb622DED7f0E9798d"
WANTED_TOKEN_USD = "0xAb5c49580294Aff77670F839ea425f5b78ab3Ae7"
COMPOUND_CONTRACT_ADDRESS_0 = cTOKEN
COMPOUND_CHECKDATA_0 = "0x3b1d21a2"
COMPOUND_STRATEGYY_OFFSET_0 = 0
COMPOUND_CONTRACT_ADDRESS_1 = cTOKEN
COMPOUND_CHECKDATA_1 = "0x47bd3718"
COMPOUND_STRATEGYY_OFFSET_1 = 0
COMPOUND_CONTRACT_ADDRESS_2 = cTOKEN
COMPOUND_CHECKDATA_2 = "0x8f840ddd"
COMPOUND_STRATEGYY_OFFSET_2 = 0
COMPOUND_CONTRACT_ADDRESS_3 = cTOKEN
COMPOUND_CHECKDATA_3 = "0x173b9904"
COMPOUND_STRATEGYY_OFFSET_3 = 0
COMPOUND_CONTRACT_ADDRESS_4 = INTEREST_RATE_cTOKEN
COMPOUND_CHECKDATA_4 = "0xfd2da339"
COMPOUND_STRATEGYY_OFFSET_4 = 0
COMPOUND_CONTRACT_ADDRESS_5 = INTEREST_RATE_cTOKEN
COMPOUND_CHECKDATA_5 = "0x8726bb89"
COMPOUND_STRATEGYY_OFFSET_5 = 0
COMPOUND_CONTRACT_ADDRESS_6 = INTEREST_RATE_cTOKEN
COMPOUND_CHECKDATA_6 = "0xb9f9850a"
COMPOUND_STRATEGYY_OFFSET_6 = 0
COMPOUND_CONTRACT_ADDRESS_7 = INTEREST_RATE_cTOKEN
COMPOUND_CHECKDATA_7 = "0xf14039de"
COMPOUND_STRATEGYY_OFFSET_7 = 0
COMPOUND_CONTRACT_ADDRESS_8 = INTEREST_RATE_cTOKEN
COMPOUND_CHECKDATA_8 = "0xa385fb96"
COMPOUND_STRATEGYY_OFFSET_8 = 0
COMPOUND_CONTRACT_ADDRESS_9 = Comptroller
COMPOUND_CHECKDATA_9 = "0x6aa875b500000000000000000000000073506770799Eb04befb5AaE4734e58C2C624F493"
COMPOUND_STRATEGYY_OFFSET_9 = 0
COMPOUND_CONTRACT_ADDRESS_10 = COMP_USD
COMPOUND_CHECKDATA_10 = "0x50d25bcd"
COMPOUND_STRATEGYY_OFFSET_10 = 0
COMPOUND_CONTRACT_ADDRESS_11 = COMP_USD
COMPOUND_CHECKDATA_11 = "0x313ce567"
COMPOUND_STRATEGYY_OFFSET_11 = 0
COMPOUND_CONTRACT_ADDRESS_12 = WANTED_TOKEN_USD
COMPOUND_CHECKDATA_12 = "0x50d25bcd"
COMPOUND_STRATEGYY_OFFSET_12 = 0
COMPOUND_CONTRACT_ADDRESS_13 = WANTED_TOKEN_USD
COMPOUND_CHECKDATA_13 = "0x313ce567"
COMPOUND_STRATEGYY_OFFSET_13 = 0
COMPOUND_CONTRACT_ADDRESS_14 = WANTED_TOKEN
COMPOUND_CHECKDATA_14 = "0x313ce567"
COMPOUND_STRATEGYY_OFFSET_14 = 0
COMPOUND_STRATEGY_ADDRESS= "0x3468Ef8426530842F4044cbb1D0A2e175d88628F" 
COMPOUND_MAX_STRATEGY_DEBT_RATIO = 10000
COMPOUND_STRATEGY_CONTRACTS = [COMPOUND_CONTRACT_ADDRESS_0, COMPOUND_CONTRACT_ADDRESS_1, COMPOUND_CONTRACT_ADDRESS_2, COMPOUND_CONTRACT_ADDRESS_3, COMPOUND_CONTRACT_ADDRESS_4, COMPOUND_CONTRACT_ADDRESS_5, COMPOUND_CONTRACT_ADDRESS_6, COMPOUND_CONTRACT_ADDRESS_7, COMPOUND_CONTRACT_ADDRESS_8, COMPOUND_CONTRACT_ADDRESS_9, COMPOUND_CONTRACT_ADDRESS_10, COMPOUND_CONTRACT_ADDRESS_11, COMPOUND_CONTRACT_ADDRESS_12, COMPOUND_CONTRACT_ADDRESS_13, COMPOUND_CONTRACT_ADDRESS_14]
COMPOUND_STRATEGYY_CHECKDATA = [COMPOUND_CHECKDATA_0, COMPOUND_CHECKDATA_1, COMPOUND_CHECKDATA_2, COMPOUND_CHECKDATA_3, COMPOUND_CHECKDATA_4, COMPOUND_CHECKDATA_5, COMPOUND_CHECKDATA_6, COMPOUND_CHECKDATA_7, COMPOUND_CHECKDATA_8, COMPOUND_CHECKDATA_9, COMPOUND_CHECKDATA_10, COMPOUND_CHECKDATA_11, COMPOUND_CHECKDATA_12, COMPOUND_CHECKDATA_13, COMPOUND_CHECKDATA_14]
COMPOUND_STRATEGYY_OFFSET = [COMPOUND_STRATEGYY_OFFSET_0, COMPOUND_STRATEGYY_OFFSET_1, COMPOUND_STRATEGYY_OFFSET_2, COMPOUND_STRATEGYY_OFFSET_3, COMPOUND_STRATEGYY_OFFSET_4, COMPOUND_STRATEGYY_OFFSET_5, COMPOUND_STRATEGYY_OFFSET_6, COMPOUND_STRATEGYY_OFFSET_7, COMPOUND_STRATEGYY_OFFSET_8, COMPOUND_STRATEGYY_OFFSET_9, COMPOUND_STRATEGYY_OFFSET_10, COMPOUND_STRATEGYY_OFFSET_11, COMPOUND_STRATEGYY_OFFSET_12, COMPOUND_STRATEGYY_OFFSET_13, COMPOUND_STRATEGYY_OFFSET_14]
COMPOUND_STRATEGYY_CALCULATION = [0, 1, 0, 10000, 2, 1, 1, 1000000000000020000, 2, 10002, 10001, 3, 4, 5, 2, 10004, 1000000000000020000, 3, 10005, 7, 0, 10003, 4, 1, 10007, 6, 2, 10008, 1000000000000020000, 3, 10009, 10006, 0, 
1000000000000020000, 3, 1, 10010, 10011, 2, 10012, 1000000000000020000, 3, 10013, 10003, 2, 10014, 1000000000000020000, 3, 10015, 8, 2, 9, 8, 2, 20010, 14, 4, 10017, 10018, 2, 10019, 10001, 3,
10020, 10, 2, 20010, 11, 4, 10021, 10022, 3, 20010, 13, 4, 10023, 10024, 2, 10025, 12, 3, 10026, 10016, 0 , 10027, 1000020000, 2, 0, 1, 0, 10000, 2, 1, 1, 1000000000000020000, 2, 10002, 10001, 3, 10003, 5, 2, 10004, 1000000000000020000, 3,
10005, 7, 0, 1000000000000020000, 3, 1, 10007, 10006, 2, 10008, 1000000000000020000, 3, 10009, 10003, 2, 10010, 1000000000000020000, 3, 10011, 8, 2, 9, 8, 2, 20010, 14, 4, 10013, 10014, 2,
10015, 10001, 3, 10016, 10, 2, 20010, 11, 4, 10017, 10018, 3, 20010, 13, 4, 10019, 20020, 2, 10021, 12, 3, 10022, 10012, 0, 10023, 1000020000, 2]
COMPOUND_CALCULATION_CONDITION = [0, 1, 0, 10000, 2, 1, 1, 1000000000000020000, 2, 10002, 10001, 3, 10003, 4, 29, 25]


def main():
    account = accounts.load("sach")
    contract = project.DebtAllocator.at("0xDcAA40F17cEce7c7aB9c37E6e54754aA6985DEe1")
    contract.addStrategy(COMPOUND_STRATEGY_ADDRESS, COMPOUND_MAX_STRATEGY_DEBT_RATIO, COMPOUND_STRATEGY_CONTRACTS, COMPOUND_STRATEGYY_CHECKDATA, COMPOUND_STRATEGYY_OFFSET, COMPOUND_STRATEGYY_CALCULATION, COMPOUND_CALCULATION_CONDITION,sender=account)
